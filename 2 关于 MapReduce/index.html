<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Oreo">
  <meta name="keywords" content="">
  <title>读书笔记：2-关于 MapReduce - Oreo</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->

  
<link rel="stylesheet" href="/css/custom.css">



  <script  src="/js/utils.js" ></script>
<meta name="generator" content="Hexo 5.3.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>奥利奥小屋</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2021-01-20 09:09">
      2021年1月20日 上午
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      2.5k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      49
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <html><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"></head><body><h1 id="&#x5173;&#x4E8E;-mapreduce">2 &#x5173;&#x4E8E; MapReduce</h1>
<blockquote>
<p>MapReduce &#x662F;&#x4E00;&#x79CD;&#x53EF;&#x7528;&#x4E8E;&#x6570;&#x636E;&#x5904;&#x7406;&#x7684;&#x7F16;&#x7A0B;&#x6A21;&#x578B;&#xFF0C;&#x8BE5;&#x6A21;&#x578B;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x4F46;&#x8981;&#x60F3;&#x5199;&#x51FA;&#x6709;&#x7528;&#x7684;&#x7A0B;&#x5E8F;&#x5374;&#x4E0D;&#x592A;&#x5BB9;&#x6613;&#x3002;</p>
</blockquote>
<p>Hadoop &#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x5404;&#x79CD;&#x8BED;&#x8A00;&#x7248;&#x672C;&#x7684; MapReduce &#x7A0B;&#x5E8F;&#xFF0C;&#x5982;&#xFF1A;Java&#x3001;Ruby&#x3001;Python&#x3002;&#x4E66;&#x4E2D;&#x63D0;&#x4F9B;&#x4E86;&#x4EE5;&#x4E0A;&#x4E09;&#x79CD;&#x4E0D;&#x540C;&#x8BED;&#x8A00;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x56E0;&#x4E3A; Python &#x662F;&#x6700;&#x77ED;&#x7684;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x4E5F;&#x770B;&#x4E0D;&#x61C2;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x9009;&#x62E9;&#x7528; Python &#x6765;&#x8FDB;&#x884C;&#x5B9E;&#x9645;&#x64CD;&#x4F5C;&#x5566;&#x3002;</p>
<p>MapReduce &#x672C;&#x8D28;&#x4E0A;&#x662F;&#x5E76;&#x884C;&#x8FD0;&#x884C;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x5C06;<strong>&#x5927;&#x89C4;&#x6A21;&#x7684;&#x6570;&#x636E;</strong>&#x5206;&#x6790;&#x4EFB;&#x52A1;&#x5206;&#x53D1;&#x7ED9;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x62E5;&#x6709;&#x8DB3;&#x591F;&#x591A;&#x673A;&#x5668;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x5FC3;</p>
<h1 id="&#x6C14;&#x8C61;&#x6570;&#x636E;&#x96C6;">2.1 &#x6C14;&#x8C61;&#x6570;&#x636E;&#x96C6;</h1>
<blockquote>
<p>&#x5206;&#x5E03;&#x5728;&#x5168;&#x7403;&#x5404;&#x5730;&#x7684;&#x5F88;&#x591A;&#x6C14;&#x8C61;&#x4F20;&#x611F;&#x5668;&#x6BCF;&#x9694;&#x4E00;&#x5C0F;&#x65F6;&#x6536;&#x96C6;&#x6C14;&#x8C61;&#x6570;&#x636E;&#x548C;&#x6536;&#x96C6;&#x5927;&#x91CF;&#x65E5;&#x5FD7;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x662F;&#x534A;&#x7ED3;&#x6784;&#x5316;&#x7684;&#xFF0C;&#x800C;&#x4E14;&#x662F;&#x6309;&#x7167;&#x8BB0;&#x5F55;&#x65B9;&#x5F0F;&#x5B58;&#x50A8;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x975E;&#x5E38;&#x9002;&#x5408;&#x7528; MapReduce &#x6765;&#x5206;&#x6790;</p>
</blockquote>
<h2 id="&#x6570;&#x636E;&#x683C;&#x5F0F;">&#x6570;&#x636E;&#x683C;&#x5F0F;</h2>
<ul>
<li><p>&#x6570;&#x636E;&#x6765;&#x6E90;&#xFF1A;NCDC <a target="_blank" rel="noopener" href="http://www.ncdc.noaa.gov/">&#x7F8E;&#x56FD;&#x56FD;&#x5BB6;&#x6C14;&#x5019;&#x6570;&#x636E;&#x4E2D;&#x5FC3;</a> (<em>National Climatic Data Center</em>)</p></li>
<li><p>&#x6570;&#x636E;&#x683C;&#x5F0F;&#xFF1A;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#x6309;&#x884C;&#x4EE5; ASCII &#x683C;&#x5F0F;&#x5B58;&#x50A8;&#xFF0C;&#x5176;&#x4E2D;&#x6BCF;&#x4E00;&#x884C;&#x662F;&#x4E00;&#x6761;&#x8BB0;&#x5F55;</p></li>
<li><p>&#x539F;&#x59CB;&#x6570;&#x636E;&#x793A;&#x4F8B;</p>
<p></p><pre><code class="hljs apache"><span class="hljs-attribute">0067011990999991950051507004</span>+<span class="hljs-number">68750</span>+<span class="hljs-number">023550</span>FM-<span class="hljs-number">12</span>+<span class="hljs-number">038299999</span>V<span class="hljs-number">0203301</span>N<span class="hljs-number">00671220001</span>CN<span class="hljs-number">9999999</span>N<span class="hljs-number">9</span>+<span class="hljs-number">00001</span>+<span class="hljs-number">99999999999</span>
<span class="hljs-attribute">0043011990999991950051512004</span>+<span class="hljs-number">68750</span>+<span class="hljs-number">023550</span>FM-<span class="hljs-number">12</span>+<span class="hljs-number">038299999</span>V<span class="hljs-number">0203201</span>N<span class="hljs-number">00671220001</span>CN<span class="hljs-number">9999999</span>N<span class="hljs-number">9</span>+<span class="hljs-number">00221</span>+<span class="hljs-number">99999999999</span>
<span class="hljs-attribute">0043011990999991950051518004</span>+<span class="hljs-number">68750</span>+<span class="hljs-number">023550</span>FM-<span class="hljs-number">12</span>+<span class="hljs-number">038299999</span>V<span class="hljs-number">0203201</span>N<span class="hljs-number">00261220001</span>CN<span class="hljs-number">9999999</span>N<span class="hljs-number">9</span>-<span class="hljs-number">00111</span>+<span class="hljs-number">99999999999</span>
<span class="hljs-attribute">0043012650999991949032412004</span>+<span class="hljs-number">62300</span>+<span class="hljs-number">010750</span>FM-<span class="hljs-number">12</span>+<span class="hljs-number">048599999</span>V<span class="hljs-number">0202701</span>N<span class="hljs-number">00461220001</span>CN<span class="hljs-number">0500001</span>N<span class="hljs-number">9</span>+<span class="hljs-number">01111</span>+<span class="hljs-number">99999999999</span>
<span class="hljs-attribute">0043012650999991949032418004</span>+<span class="hljs-number">62300</span>+<span class="hljs-number">010750</span>FM-<span class="hljs-number">12</span>+<span class="hljs-number">048599999</span>V<span class="hljs-number">0202701</span>N<span class="hljs-number">00461220001</span>CN<span class="hljs-number">0500001</span>N<span class="hljs-number">9</span>+<span class="hljs-number">00781</span>+<span class="hljs-number">99999999999</span></code></pre><p></p></li>
<li><p>&#x4EE5;&#x4E00;&#x884C;&#x6570;&#x636E;&#x4E3A;&#x4F8B;&#x8BF4;&#x660E;&#x5176;&#x683C;&#x5F0F;</p>
<p></p><pre><code class="hljs yaml">[<span class="hljs-number">0</span><span class="hljs-string">:4</span>]        <span class="hljs-number">0067</span>
[<span class="hljs-number">4</span><span class="hljs-string">:10</span>]       <span class="hljs-number">011990</span>      <span class="hljs-comment"># USAF weather station identifier</span>
[<span class="hljs-number">10</span><span class="hljs-string">:15</span>]      <span class="hljs-number">99999</span>
[<span class="hljs-number">15</span><span class="hljs-string">:23</span>]      <span class="hljs-number">19500515</span>    <span class="hljs-comment"># &#x89C2;&#x6D4B;&#x65E5;&#x671F;</span>
[<span class="hljs-number">23</span><span class="hljs-string">:27</span>]      <span class="hljs-number">0700</span>        <span class="hljs-comment"># &#x89C2;&#x6D4B;&#x65F6;&#x95F4;</span>
[<span class="hljs-number">27</span><span class="hljs-string">:28</span>]      <span class="hljs-number">4</span>
[<span class="hljs-number">28</span><span class="hljs-string">:34</span>]      <span class="hljs-string">+68750</span>      <span class="hljs-comment"># &#x7EAC;&#x5EA6;(1000&#xB0;)</span>
[<span class="hljs-number">34</span><span class="hljs-string">:41</span>]      <span class="hljs-string">+023550</span>     <span class="hljs-comment"># &#x7ECF;&#x5EA6;(1000&#xB0;)</span>
[<span class="hljs-number">41</span><span class="hljs-string">:46</span>]      <span class="hljs-string">FM-12</span>
[<span class="hljs-number">46</span><span class="hljs-string">:51</span>]      <span class="hljs-string">+0382</span>       <span class="hljs-comment"># &#x6D77;&#x62D4;(m)</span>
[<span class="hljs-number">51</span><span class="hljs-string">:56</span>]      <span class="hljs-number">99999</span>
[<span class="hljs-number">56</span><span class="hljs-string">:60</span>]      <span class="hljs-string">V020</span>
[<span class="hljs-number">60</span><span class="hljs-string">:63</span>]      <span class="hljs-number">330</span>         <span class="hljs-comment"># &#x98CE;&#x5411;(&#x5EA6;)</span>
[<span class="hljs-number">63</span><span class="hljs-string">:64</span>]      <span class="hljs-number">1</span>           <span class="hljs-comment"># &#x8D28;&#x91CF;&#x4EE3;&#x7801;</span>
[<span class="hljs-number">64</span><span class="hljs-string">:65</span>]      <span class="hljs-string">N</span>
[<span class="hljs-number">65</span><span class="hljs-string">:69</span>]      <span class="hljs-number">0067</span>
[<span class="hljs-number">69</span><span class="hljs-string">:70</span>]      <span class="hljs-number">1</span>
[<span class="hljs-number">70</span><span class="hljs-string">:75</span>]      <span class="hljs-number">22000</span>       <span class="hljs-comment"># &#x5929;&#x9876;&#x9AD8;&#x5EA6;(m)</span>
[<span class="hljs-number">75</span><span class="hljs-string">:76</span>]      <span class="hljs-number">1</span>           <span class="hljs-comment"># &#x8D28;&#x91CF;&#x4EE3;&#x7801;</span>
[<span class="hljs-number">76</span><span class="hljs-string">:77</span>]      <span class="hljs-string">C</span>
[<span class="hljs-number">77</span><span class="hljs-string">:78</span>]      <span class="hljs-string">N</span>
[<span class="hljs-number">78</span><span class="hljs-string">:83</span>]      <span class="hljs-number">999999</span>      <span class="hljs-comment"># &#x53EF;&#x89C1;&#x5EA6;(m)</span>
[<span class="hljs-number">84</span><span class="hljs-string">:85</span>]      <span class="hljs-number">9</span>           <span class="hljs-comment"># &#x8D28;&#x91CF;&#x4EE3;&#x7801;</span>
[<span class="hljs-number">85</span><span class="hljs-string">:86</span>]      <span class="hljs-string">N</span>
[<span class="hljs-number">86</span><span class="hljs-string">:87</span>]      <span class="hljs-number">9</span>
[<span class="hljs-number">87</span><span class="hljs-string">:92</span>]      <span class="hljs-string">+0000</span>       <span class="hljs-comment"># &#x7A7A;&#x6C14;&#x6E29;&#x5EA6;(10&#x2103;)</span>
[<span class="hljs-number">92</span><span class="hljs-string">:93</span>]      <span class="hljs-number">1</span>           <span class="hljs-comment"># &#x8D28;&#x91CF;&#x4EE3;&#x7801;</span>
[<span class="hljs-number">93</span><span class="hljs-string">:98</span>]      <span class="hljs-string">+9999</span>       <span class="hljs-comment"># &#x9732;&#x70B9;&#x6E29;&#x5EA6;(10&#x2103;)</span>
[<span class="hljs-number">98</span><span class="hljs-string">:99</span>]      <span class="hljs-number">9</span>
[<span class="hljs-number">99</span><span class="hljs-string">:104</span>]     <span class="hljs-number">99999</span>       <span class="hljs-comment"># &#x6C14;&#x538B;(10hPa)</span>
[<span class="hljs-number">104</span><span class="hljs-string">:105</span>]    <span class="hljs-number">9</span>           <span class="hljs-comment"># &#x8D28;&#x91CF;&#x4EE3;&#x7801;</span></code></pre> &gt; Q&#xFF1A;&#x5728;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x96C6;&#x4E2D;&#xFF0C;&#x6BCF;&#x5E74;&#x5168;&#x7403;&#x6C14;&#x6E29;&#x7684;&#x6700;&#x9AD8;&#x8BB0;&#x5F55;&#x662F;&#x591A;&#x5C11;&#xFF1F;<p></p></li>
</ul>
<h1 id="&#x4F7F;&#x7528;-unix-&#x5DE5;&#x5177;&#x6765;&#x5206;&#x6790;&#x6570;&#x636E;">2.2 &#x4F7F;&#x7528; Unix &#x5DE5;&#x5177;&#x6765;&#x5206;&#x6790;&#x6570;&#x636E;</h1>
<p>&#x5148;&#x4F7F;&#x7528;&#x4F20;&#x7EDF;&#x7684;&#x6309;&#x884C;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x5DE5;&#x5177; <code>awk</code> &#x63D0;&#x4F9B;&#x6027;&#x80FD;&#x57FA;&#x51C6;&#x548C;&#x7ED3;&#x679C;&#x68C0;&#x67E5;&#xFF0C;&#x518D;&#x548C; Hadoop &#x8FDB;&#x884C;&#x5BF9;&#x6BD4;</p>
<p><code>*awk</code> &#x662F;&#x4E00;&#x4E2A;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#xFF0C;&#x548C; Python &#x4E00;&#x6837;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x5B83;&#x6BD4;&#x8F83;&#x65B9;&#x4FBF;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x91CC;&#x4F7F;&#x7528;&#xFF0C;&#x800C;&#x4E14;&#x6587;&#x672C;&#x5904;&#x7406;&#x7684;&#x80FD;&#x529B;&#x975E;&#x5E38;&#x5F3A;&#xFF0C;&#x6240;&#x4EE5;&#x975E;&#x5E38;&#x9002;&#x5408;&#x5728;&#x8FD9;&#x79CD;&#x573A;&#x666F;&#x91CC;&#x4F7F;&#x7528;*</p>
<h3 id="&#x7F16;&#x5199;&#x811A;&#x672C;">&#x7F16;&#x5199;&#x811A;&#x672C;</h3>
<p>&#x76EE;&#x6807;&#xFF1A;&#x8BA1;&#x7B97;&#x6BCF;&#x5E74;&#x7684;&#x6700;&#x9AD8;&#x6C14;&#x6E29;</p>
<p>&#x5212;&#x91CD;&#x70B9;&#xFF1A;&#x6BCF;&#x5E74; + &#x6700;&#x9AD8;&#x6C14;&#x6E29;</p>
<p><code>max_temperature.sh</code></p>
<pre><code class="hljs bash"><span class="hljs-meta">#!/usr/bin/env bash</span>
<span class="hljs-keyword">for</span> year <span class="hljs-keyword">in</span> all/*
<span class="hljs-keyword">do</span>
  <span class="hljs-built_in">echo</span> -ne `basename <span class="hljs-variable">$year</span> .gz`<span class="hljs-string">&quot;\t&quot;</span> 
  gunzip -c <span class="hljs-variable">$year</span> | \
    awk <span class="hljs-string">&apos;{ temp = substr($0, 88, 5) + 0;</span>
<span class="hljs-string">           q = substr($0, 93, 1);</span>
<span class="hljs-string">           if (temp !=9999 &amp;&amp; q ~ /[01459]/ &amp;&amp; temp &gt; max) max = temp }</span>
<span class="hljs-string">         END { print max }&apos;</span>
<span class="hljs-keyword">done</span></code></pre>
<h3 id="&#x7B80;&#x5355;&#x7FFB;&#x8BD1;">&#x7B80;&#x5355;&#x7FFB;&#x8BD1;</h3>
<p>&#x51ED;&#x501F;&#x7740;&#x778E;&#x731C;&#x5927;&#x6982;&#x89E3;&#x91CA;&#x4E00;&#x4E0B;&#x4E0A;&#x8FF0;&#x4EE3;&#x7801;&#x7684;&#x529F;&#x80FD;</p>
<p>&#x5FAA;&#x73AF;&#x904D;&#x5386;&#x6309;&#x5E74;&#x538B;&#x7F29;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x5E76;&#x5904;&#x7406;</p>
<ul>
<li><p>&#x8BFB;&#x53D6; <code>all</code> &#x4E0B;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5982; : year &#x2192; 1901.gz</p>
<p>&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x6587;&#x4EF6;&#x5939; <code>all</code> &#x4E2D;&#x5B58;&#x653E;&#x7684;&#x662F;&#x591A;&#x4E2A;&#x6C14;&#x8C61;&#x6570;&#x636E;&#x7684;&#x6253;&#x5305;&#x6587;&#x4EF6;&#xFF0C;&#x5982;: <code>1901.gz</code> <code>1902.gz</code></p></li>
<li><p>&#x663E;&#x793A;&#x5E74;&#x4EFD;</p>
<p><code>echo -ne</code>basename $year.gz<code>&quot;\t&quot;</code></p>
<ul>
<li><p>echo &#x662F;&#x663E;&#x793A;&#x51FD;&#x6570;</p>
<p>&#x901A;&#x8FC7; <code>man echo</code> &#x67E5;&#x770B;&#x5176;&#x529F;&#x80FD;&#xFF0C;&#x5176;&#x4E2D;<code>-n</code> &#x4E0D;&#x8F93;&#x51FA;&#x5C3E;&#x968F;&#x6362;&#x884C;&#x7B26; ; <code>-e</code> &#x542F;&#x7528;&#x53CD;&#x659C;&#x6760;&#x8F6C;&#x4E49;</p>
<p></p><pre><code class="hljs gauss">Echo the <span class="hljs-keyword">STRING</span>(s) to standard <span class="hljs-keyword">output</span>.
       -n     <span class="hljs-keyword">do</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">output</span> the trailing newline
       -e     <span class="hljs-keyword">enable</span> interpretation of backslash escapes</code></pre><p></p></li>
<li><p>basename &#x79FB;&#x9664; <code>.gz</code> &#x7684;&#x540E;&#x7F00;</p>
<p>&#x901A;&#x8FC7; <code>man basename</code> &#x67E5;&#x770B;&#x5176;&#x529F;&#x80FD;&#x53CA;&#x793A;&#x4F8B;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x4E0A;&#x8FF0;&#x662F;&#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x79FB;&#x9664;&#x8DEF;&#x5F84;&#xFF0C;&#x53EA;&#x4FDD;&#x7559;&#x6587;&#x4EF6;&#x540D;</p>
<p></p><pre><code class="hljs bash">basename - strip directory and suffix from filenames
Print NAME with any leading directory components removed.
If specified, also remove a trailing SUFFIX.

EXAMPLES
       basename /usr/bin/sort
              -&gt; <span class="hljs-string">&quot;sort&quot;</span>
       basename include/stdio.h .h
              -&gt; <span class="hljs-string">&quot;stdio&quot;</span>
       ****basename -s .h include/stdio.h
              -&gt; <span class="hljs-string">&quot;stdio&quot;</span>
       basename -a any/str1 any/str2
              -&gt; <span class="hljs-string">&quot;str1&quot;</span> followed by <span class="hljs-string">&quot;str2&quot;</span></code></pre><p></p></li>
<li><p>&#x6240;&#x4EE5;&#xFF0C;&#x6700;&#x540E;&#x7684;&#x663E;&#x793A;&#x7684;&#x7ED3;&#x679C;&#x662F; <code>1901</code></p></li>
</ul></li>
<li><p>&#x4F7F;&#x7528; <code>awk</code> &#x5904;&#x7406;&#x6BCF;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;</p>
<ul>
<li><p>&#x4ECE;&#x6570;&#x636E;&#x4E2D;&#x63D0;&#x53D6;&#x4E24;&#x4E2A;&#x5B57;&#x6BB5;&#xFF1A;&#x6C14;&#x6E29; <code>temp</code>&#x3001;&#x8D28;&#x91CF;&#x4EE3;&#x7801; <code>q</code></p></li>
<li><p>&#x6C14;&#x6E29;&#x63D0;&#x53D6;&#x4E0E;&#x8F6C;&#x6362;</p>
<p><code>temp = substr($0, 88, 5) + 0</code></p>
<p>&#x4ECE;&#x7B2C;0&#x4E2A;&#x5B57;&#x6BB5;&#x91CC;&#x7684;&#x7B2C;88&#x4E2A;&#x5B57;&#x7B26;&#x5F00;&#x59CB;&#xFF0C;&#x622A;&#x53D6;5&#x4E2A;&#x5B57;&#x7B26;&#x7ED3;&#x675F;&#xFF08;substr&#x7684;&#x529F;&#x80FD;&#x770B;&#x8D77;&#x6765;&#x548C;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x529F;&#x80FD;&#x662F;&#x76F8;&#x4F3C;&#x7684;&#xFF0C;&#x4E5F;&#x76F8;&#x5BF9;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#xFF09;</p>
<p>&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x7684;&#x6E29;&#x5EA6;&#x503C;&#x52A0; 0 &#x540E;&#x88AB; awk &#x8F6C;&#x4E49;&#x6210;&#x6574;&#x6570;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;</p>
<p>&#x8F6C;&#x6362;&#x793A;&#x4F8B;</p>
<ul>
<li><code>-0161</code> &#x2192; <code>-161</code></li>
<li><code>+0006</code> &#x2192; <code>6</code></li>
</ul></li>
<li><p>&#x8D28;&#x91CF;&#x4EE3;&#x7801;&#x63D0;&#x53D6;</p>
<p><code>q = substr($0, 93, 1)</code></p>
<p>&#x8D28;&#x91CF;&#x65E0;&#x95EE;&#x9898;&#x7684;&#x4EE3;&#x7801;&#xFF1A;0&#x3001;1&#x3001;4&#x3001;5&#x3001;9</p></li>
<li><p>&#x6700;&#x9AD8;&#x6C14;&#x6E29;&#x7684;&#x8BA1;&#x7B97;</p>
<p><code>if (temp !=9999 &amp;&amp; q ~ /[01459]/ &amp;&amp; temp &gt; max) max = temp</code></p>
<p>&#x8FD9;&#x91CC;&#x7684; <code>q ~ /[01459]/</code> &#x7684;&#x610F;&#x601D;&#x662F;&#xFF0C;&#x53D8;&#x91CF; <code>q</code> &#x6EE1;&#x8DB3;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F; <code>[01459]</code></p>
<p>&#x5982;&#x679C;&#x6E29;&#x5EA6;&#x662F;&#x6709;&#x6548;&#x7684;&#xFF08;9999&#x8868;&#x793A;&#x7F3A;&#x5931;&#x503C;&#xFF09;&#x3001;&#x8D28;&#x91CF;&#x4EE3;&#x7801;&#x662F;&#x65E0;&#x9519;&#x8BEF;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x8BFB;&#x53D6;&#x7684;&#x6E29;&#x5EA6;&gt;&#x539F;&#x5148;&#x7684;&#x6700;&#x5927;&#x503C;&#xFF0C;&#x5C31;&#x66FF;&#x6362;&#x76EE;&#x524D;&#x7684;&#x6700;&#x5927;&#x503C;</p></li>
<li><p>&#x5904;&#x7406;&#x5B8C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7684;&#x6240;&#x6709;&#x884C;&#xFF0C;&#x6267;&#x884C; <code>END</code> &#x8F93;&#x51FA;&#x6700;&#x9AD8;&#x6C14;&#x6E29;</p></li>
</ul></li>
</ul>
<h3 id="&#x8FD0;&#x884C;">&#x8FD0;&#x884C;</h3>
<p>&#x786E;&#x4FDD;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x4E0E; <code>all</code> &#x6587;&#x4EF6;&#x5728;&#x540C;&#x4E00;&#x76EE;&#x5F55;&#x4E0B;</p>
<p><code>./max_temperature.sh</code></p>
<h3 id="&#x7ED3;&#x679C;">&#x7ED3;&#x679C;</h3>
<pre><code class="hljs basic"><span class="hljs-symbol">1901 </span>   <span class="hljs-number">317</span>
<span class="hljs-symbol">1902 </span>   <span class="hljs-number">244</span></code></pre>
<p>&#x5728; 2.1 &#x4E2D;&#x6709;&#x8BF4;&#x660E;&#xFF0C;&#x6E29;&#x5EA6;&#x7684;&#x5355;&#x4F4D;&#x662F; 10&#x2103;&#xFF0C;&#x56E0;&#x800C;&#x5B9E;&#x9645;&#x4E0A; 1901 &#x5E74;&#x7684;&#x6700;&#x9AD8;&#x6C14;&#x6E29;&#x4E3A;31.7&#x2103;</p>
<blockquote>
<p>&#x4F7F;&#x7528;&#x4E9A;&#x9A6C;&#x900A;&#x7684; EC2 High-CPU Extra Large Instance &#x8FD0;&#x884C;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#xFF0C;&#x53EA;&#x9700;&#x8981; 42 &#x5206;&#x949F;&#x5C31;&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x5B8C;&#x4E00;&#x4E2A;&#x4E16;&#x7EAA;&#x7684;&#x6C14;&#x8C61;&#x6570;&#x636E;&#xFF0C;&#x627E;&#x51FA;&#x6700;&#x9AD8;&#x6C14;&#x6E29;&#x3002;</p>
</blockquote>
<p>&#x4E3A;&#x4E86;&#x52A0;&#x5FEB;&#x5904;&#x7406;&#x901F;&#x5EA6;&#xFF0C;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x5E76;&#x884C;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x6765;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5206;&#x6790;&#xFF0C;&#x7406;&#x8BBA;&#x4E0A;&#x6765;&#x8BF4;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x7528;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#x6240;&#x6709;&#x53EF;&#x7528;&#x7684;&#x786C;&#x4EF6;&#x7EBF;&#x7A0B;&#xFF0C;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x5904;&#x7406;&#x4E0D;&#x540C;&#x5E74;&#x4EFD;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x4ECD;&#x7136;&#x4F1A;&#x6709;&#x4E00;&#x4E9B;&#x95EE;&#x9898;&#x3002;</p>
<h3 id="&#x5E76;&#x884C;&#x5904;&#x7406;&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;">&#x5E76;&#x884C;&#x5904;&#x7406;&#x5B58;&#x5728;&#x7684;&#x95EE;&#x9898;</h3>
<ul>
<li>&#x4EFB;&#x52A1;&#x600E;&#x4E48;&#x5212;&#x5206;&#x4E3A;&#x5927;&#x5C0F;&#x76F8;&#x540C;&#x7684;&#x4F5C;&#x4E1A;&#xFF1F;
<ul>
<li>&#x4E0D;&#x540C;&#x5E74;&#x4EFD;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#x5DEE;&#x5F02;&#x5F88;&#x5927;&#xFF0C;&#x5982;&#x679C;&#x6309;&#x7167;&#x5E74;&#x4EFD;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x5212;&#x5206;&#xFF0C;&#x90A3;&#x4E48;&#x6709;&#x4E00;&#x90E8;&#x5206;&#x7EBF;&#x7A0B;&#x603B;&#x4F1A;&#x6BD4;&#x5176;&#x4ED6;&#x7EBF;&#x7A0B;&#x66F4;&#x65E9;&#x5730;&#x7ED3;&#x675F;&#x8FD0;&#x884C;&#xFF0C;&#x603B;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x53D6;&#x51B3;&#x4E8E;&#x5904;&#x7406;&#x6700;&#x957F;&#x6587;&#x4EF6;&#x6240;&#x9700;&#x8981;&#x7684;&#x65F6;&#x95F4;&#x3002;</li>
<li>&#x66F4;&#x597D;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x5C06;&#x6570;&#x636E;&#x5206;&#x4E3A;<strong>&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x5757;</strong>&#xFF0C;&#x7136;&#x540E;&#x6BCF;&#x5757;&#x5206;&#x5230;&#x5404;&#x4E2A;&#x8FDB;&#x7A0B;&#x53BB;&#x6267;&#x884C;</li>
</ul></li>
<li>&#x5982;&#x4F55;&#x5408;&#x5E76;&#x6BCF;&#x4E2A;&#x72EC;&#x7ACB;&#x8FDB;&#x7A0B;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF1F;
<ul>
<li>&#x5728;&#x8BA1;&#x7B97;&#x6BCF;&#x5E74;&#x6700;&#x9AD8;&#x6E29;&#x5EA6;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x5E74;&#x7684;&#x6570;&#x636E;&#x88AB;&#x5206;&#x4E3A;&#x591A;&#x4E2A;&#x5757;&#xFF0C;&#x90A3;&#x4E48;&#x9700;&#x8981;&#x5BF9;&#x6BCF;&#x4E2A;&#x5757;&#x7684;&#x6700;&#x9AD8;&#x6C14;&#x6E29;&#x8FDB;&#x884C;&#x8BB0;&#x5F55;&#xFF0C;&#x6700;&#x7EC8;&#x5C06;&#x591A;&#x4E2A;&#x5757;&#x7684;&#x540C;&#x4E00;&#x5E74;&#x6570;&#x636E;&#x7684;&#x6700;&#x9AD8;&#x6C14;&#x6E29;&#x4F5C;&#x4E3A;&#x8BE5;&#x5E74;&#x7684;&#x6700;&#x9AD8;&#x6E29;&#x5EA6;&#x3002;</li>
</ul></li>
<li>&#x53D7;&#x9650;&#x4E8E;&#x5355;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x5904;&#x7406;&#x80FD;&#x529B;</li>
</ul>
<h1 id="&#x4F7F;&#x7528;-hadoop-&#x6765;&#x5206;&#x6790;&#x6570;&#x636E;">2.3 &#x4F7F;&#x7528; Hadoop &#x6765;&#x5206;&#x6790;&#x6570;&#x636E;</h1>
<blockquote>
<p>&#x4E3A;&#x4E86;&#x5145;&#x5206;&#x5229;&#x7528; Hadoop &#x63D0;&#x4F9B;&#x7684;&#x5E76;&#x884C;&#x5904;&#x7406;&#x4F18;&#x52BF;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5C06;&#x67E5;&#x8BE2;&#x8868;&#x793A;&#x6210; MapReduce &#x4F5C;&#x4E1A;&#x3002;</p>
</blockquote>
<p>MapReduce &#x4EFB;&#x52A1;&#x5206;&#x4E3A;&#x4E24;&#x4E2A;&#x5904;&#x7406;&#x9636;&#x6BB5;&#xFF1A;map &#x9636;&#x6BB5;&#x548C; reduce &#x9636;&#x6BB5;&#xFF0C;&#x6BCF;&#x4E2A;&#x9636;&#x6BB5;&#x90FD;&#x4EE5;<strong>&#x952E;-&#x503C;&#x5BF9;</strong>&#x4F5C;&#x4E3A;&#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;</p>
<p>&#x91CD;&#x8981;&#x7684;&#x662F;&#xFF0C;&#x4F60;&#x8981;&#x5199;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#xFF1A;map &#x51FD;&#x6570;&#x548C; reduce &#x51FD;&#x6570;</p>
<p>&#x4EE5;&#x6C14;&#x8C61;&#x6570;&#x636E;&#x4E3A;&#x4F8B;</p>
<p><a target="_blank" rel="noopener" href="https://www.notion.so/6da36aaa63f843649eb9647d20e41a75">map and reduce</a></p>
<h1 id="python-&#x7248;&#x672C;&#x5B9E;&#x73B0;">2.4 Python &#x7248;&#x672C;&#x5B9E;&#x73B0;</h1>
<p>&#x672C;&#x6B21;&#x8FD0;&#x884C;&#x73AF;&#x5883; &#xFF1A;Ubuntu 20.04</p>
<p>&#x4EE3;&#x7801;&#xFF1A;&#x6C14;&#x8C61;&#x6570;&#x636E;&#x7684; Python &#x811A;&#x672C;&#x5728; <code>[ch02-mr-intro/src/main/python/](https://github.com/tomwhite/hadoop-book/tree/master/ch02-mr-intro/src/main/python)</code> &#x4E2D;&#xFF0C;&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x5728; <code>[input/ncdc/](https://github.com/tomwhite/hadoop-book/tree/master/input/ncdc)</code> &#x4E2D;</p>
<h2 id="linux-shell">Linux Shell</h2>
<p>&#x9996;&#x5148;&#xFF0C;&#x5F53;&#x7136;&#x662F; ... cd &#x5230;&#x5F53;&#x524D;&#x76EE;&#x5F55;</p>
<p>&#x56E0;&#x4E3A;&#x539F; Python &#x6587;&#x4EF6;&#x4E3A; python2 &#x7248;&#x672C;&#xFF0C;&#x56E0;&#x800C;&#x9700;&#x8981;&#x4F7F;&#x7528; <code>2to3</code> &#x5C06;&#x5176;&#x8F6C;&#x6362;&#x4E3A; python3 &#x7248;&#x672C;</p>
<h3 id="to3">2to3</h3>
<p>&#x70B9;&#x51FB;<a target="_blank" rel="noopener" href="https://docs.python.org/3/library/2to3.html#">&#x8FD9;&#x91CC;</a>&#x67E5;&#x770B;&#x8BE6;&#x7EC6;&#x6587;&#x6863;</p>
<ul>
<li><p>&#x5B89;&#x88C5;</p>
<p><code>sudo apt update</code></p>
<p><code>sudo apt install 2to3</code></p></li>
<li><p>&#x4F7F;&#x7528;</p>
<p><code>2to3 xxx.py</code></p>
<p><code>2to3 -w xxx.py</code></p></li>
</ul>
<h3 id="python-&#x6587;&#x4EF6;">Python &#x6587;&#x4EF6;</h3>
<p>&#x5C06;&#x539F;&#x6587;&#x4EF6;&#x4E2D; <code>/usr/bin/env python</code> &#x4FEE;&#x6539;&#x4E3A; <code>/usr/bin/env python3</code></p>
<p><em>&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x6709; shebang line &#xFF1F;</em></p>
<p><em>&#x56E0;&#x4E3A; Linux &#x91CC;&#x7684;&#x540E;&#x7F00;&#x540D;&#x662F;&#x65E0;&#x610F;&#x4E49;&#x7684;&#xFF0C;&#x4E0D;&#x50CF; Windows&#xFF0C;<code>.py</code> &#x7ED3;&#x5C3E;&#x7684;&#x5C31;&#x4F1A;&#x7528; Python &#x6267;&#x884C;&#xFF0C;&#x6240;&#x4EE5;&#x5FC5;&#x987B;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x884C;&#x6765;&#x544A;&#x8BC9;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x8FD9;&#x662F;&#x4E2A; Python &#x811A;&#x672C;</em></p>
<p>&#x4EE5;&#x4E0B;&#x662F;&#x8F6C;&#x6362;&#x540E;&#x7684; Python3 &#x7248;&#x672C;&#xFF0C;&#x5E76;&#x5C06;&#x8F93;&#x51FA;&#x6539;&#x6210;&#x4E86; <code>f-string</code> &#xFF0C;&#x5E94;&#x8BE5;&#x4E0D;&#x9700;&#x8981;&#x7FFB;&#x8BD1; ......</p>
<p><code>max_temperature_map.py</code></p>
<pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-keyword">import</span> re
<span class="hljs-keyword">import</span> sys

<span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> sys.stdin:
    val = line.strip()
    year, temp, q = val[<span class="hljs-number">15</span>:<span class="hljs-number">19</span>], val[<span class="hljs-number">87</span>:<span class="hljs-number">92</span>], val[<span class="hljs-number">92</span>:<span class="hljs-number">93</span>]
    <span class="hljs-keyword">if</span> (temp != <span class="hljs-string">&quot;+9999&quot;</span> <span class="hljs-keyword">and</span> re.match(<span class="hljs-string">&quot;[01459]&quot;</span>, q)):
        print(<span class="hljs-string">f&quot;<span class="hljs-subst">{year}</span>\t<span class="hljs-subst">{temp}</span>&quot;</span>)</code></pre>
<p>map &#x51FD;&#x6570;&#x5B9E;&#x73B0;&#x7684;&#x662F;&#x83B7;&#x53D6;&#x5E74;&#x4EFD;&#x548C;&#x6E29;&#x5EA6;&#xFF0C;&#x5176;&#x4E2D;&#x4F7F;&#x7528;&#x4E86;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x786E;&#x8BA4;&#x8D28;&#x91CF;&#x4EE3;&#x7801; <code>q</code> &#x662F;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#x7684;</p>
<p><code>max_temperature_reduce.py</code></p>
<pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/env python3</span>

<span class="hljs-keyword">import</span> sys

<span class="hljs-comment"># (last_key, max_val) = (None, -sys.maxsize)</span>
last_key, max_val = <span class="hljs-literal">None</span>, -sys.maxsize

<span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> sys.stdin:
    key, val = line.strip().split(<span class="hljs-string">&quot;\t&quot;</span>)
    <span class="hljs-keyword">if</span> last_key <span class="hljs-keyword">and</span> last_key != key:
        print(<span class="hljs-string">f&quot;<span class="hljs-subst">{last_key}</span>\t<span class="hljs-subst">{max_val}</span>&quot;</span>)
        last_key, max_val = key, <span class="hljs-built_in">int</span>(val)
    <span class="hljs-keyword">else</span>:
        last_key, max_val = key, <span class="hljs-built_in">max</span>(max_val, <span class="hljs-built_in">int</span>(val))

<span class="hljs-keyword">if</span> last_key:
    print(<span class="hljs-string">f&quot;<span class="hljs-subst">{last_key}</span>\t<span class="hljs-subst">{max_val}</span>&quot;</span>)</code></pre>
<p>reduce &#x51FD;&#x6570;&#x5B9E;&#x73B0;&#x7684;&#x662F;&#x8BA1;&#x7B97;&#x6BCF;&#x4E00;&#x5E74;&#x7684;&#x6700;&#x9AD8;&#x6E29;&#x5EA6;</p>
<h3 id="&#x6D4B;&#x8BD5;&#x7A0B;&#x5E8F;">&#x6D4B;&#x8BD5;&#x7A0B;&#x5E8F;</h3>
<pre><code class="hljs bash">cat input/ncdc/sample.txt | \
pipe&gt; ch02-mr-intro/src/main/python/max_temperature_map.py | \
pipe pipe&gt; sort | ch02-mr-intro/src/main/python/max_temperature_reduce.py</code></pre>
<h3 id="&#x7B80;&#x5355;&#x7FFB;&#x8BD1;-1">&#x7B80;&#x5355;&#x7FFB;&#x8BD1;</h3>
<ul>
<li><p>&#x6CE8;&#x610F;</p>
<ul>
<li>Linux &#x4E0B;&#x7684;&#x8DEF;&#x5F84;&#x5206;&#x5272;&#x7B26;&#x662F; <code>/</code> &#x4E0D;&#x80FD;&#x7528; <code>\</code></li>
<li><code>|</code> &#x662F;&#x7BA1;&#x9053; pipe &#x7B26;&#x53F7;&#xFF0C;&#x4F5C;&#x7528;&#x662F;&#x628A;&#x4E0A;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684; <code>stdout</code> &#x4F20;&#x8F93;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684; <code>stdin</code></li>
<li><code>\</code> &#x662F;&#x6362;&#x884C;&#x8F6C;&#x4E49;&#x7B26;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;&#x544A;&#x8BC9;&#x547D;&#x4EE4;&#x884C;&#xFF0C;&#x201D;&#x6211;&#x8FD9;&#x884C;&#x4EE3;&#x7801;&#x8FD8;&#x6CA1;&#x5199;&#x5B8C;&#xFF0C;&#x4F60;&#x8981;&#x7EE7;&#x7EED;&#x8BFB;&#x4E0B;&#x53BB;&#x201C;</li>
</ul></li>
<li><p>&#x7B2C;&#x4E00;&#x884C;&#xFF0C;&#x8F93;&#x51FA;&#x539F;&#x59CB;&#x6570;&#x636E;</p>
<p><code>cat input/ncdc/sample.txt</code> &#x628A; <code>sample.txt</code> &#x7684;&#x5185;&#x5BB9;&#x8F93;&#x51FA;&#x5230;&#x5C4F;&#x5E55;&#x4E0A;</p></li>
<li><p>&#x7B2C;&#x4E8C;&#x884C;&#xFF0C;&#x83B7;&#x53D6;&#x5E74;&#x4EE3;&#x548C;&#x6C14;&#x6E29;</p>
<p><code>ch02-mr-intro/src/main/python/max_temperature_map.py</code> &#x662F;&#x6267;&#x884C;&#x8FD9;&#x4E2A; .py &#x7A0B;&#x5E8F;&#xFF0C;&#x8F93;&#x51FA;&#x6BCF;&#x4E00;&#x884C;&#x6587;&#x672C;&#x7684;&#x5E74;&#x4EE3;&#x53CA;&#x6C14;&#x6E29;</p></li>
<li><p>&#x7B2C;&#x4E09;&#x884C;&#xFF0C;&#x8BA1;&#x7B97;&#x6BCF;&#x5E74;&#x6700;&#x9AD8;&#x6C14;&#x6E29;</p>
<p><code>sort</code> &#x628A;&#x4ECE; <code>stdin</code> &#x8BFB;&#x5165;&#x7684;&#x5185;&#x5BB9;&#x6392;&#x5E8F;</p>
<p><code>ch02-mr-intro/src/main/python/max_temperature_reduce.py</code> &#x662F;&#x6267;&#x884C;&#x8FD9;&#x4E2A; .py &#x7A0B;&#x5E8F;&#xFF0C;&#x8F93;&#x51FA;&#x6BCF;&#x5E74;&#x6700;&#x9AD8;&#x6C14;&#x6E29;</p></li>
</ul>
<hr>
<p>&quot;&#x6211;&#x8FD9;&#x7CFB;&#x5217;&#x8BFB;&#x4E66;&#x7B14;&#x8BB0;&#x8FD8;&#x6CA1;&#x6709;&#x5199;&#x5B8C;&#xFF0C;&#x4F60;&#x8981;&#x7EE7;&#x7EED;&#x8BFB;&#x4E0B;&#x53BB;&quot;</p>
<p>&#x8FD9;&#x6837;&#x770B;&#x8D77;&#x6765;&#xFF0C;MapReduce &#x4E5F;&#x6CA1;&#x6709;&#x5F88;&#x96BE;&#x7684;&#x6837;&#x5B50; ...... &#x867D;&#x7136;&#x4F9D;&#x7136;&#x4E0D;&#x61C2;&#xFF0C;&#x4F46;&#x662F; ...... &#x4F46;&#x662F;&#x6211;&#x77E5;&#x9053;&#x4E86;&#x8981;&#x5199; map &#x51FD;&#x6570;&#x548C; reduce &#x51FD;&#x6570;&#x5566;</p>
</body></html>
            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Reading/">Reading</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Start-with-Me/">Start with Me</a>
                    
                      <a class="hover-with-bg" href="/tags/Book/">Book</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/1%20%E5%88%9D%E8%AF%86Hadoop/">
                        <span class="hidden-mobile">读书笔记：1-初识 Hadoop</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>







  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "读书笔记：2-关于 MapReduce&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 80,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>




















</body>
</html>
