<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Oreo">
  <meta name="keywords" content="">
  <title>[Data Science] Week 3 #3 - Group By - Oreo</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->

  
<link rel="stylesheet" href="/css/custom.css">



  <script  src="/js/utils.js" ></script>
<meta name="generator" content="Hexo 5.3.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>奥利奥小屋</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2020-09-19 16:14">
      2020年9月19日 下午
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      2.8k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      55
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <html><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"></head><body><p>&#x6240;&#x6709; Notebook &#x7684;&#x6E90;&#x6587;&#x4EF6;&#x90FD;&#x53EF;&#x4EE5;&#x5728; <a target="_blank" rel="noopener" href="https://github.com/Oreoxmt/Start-with-Me/tree/master/Applied Data Science with Python/Introduction to Data Science in Python/week3">GitHub</a> &#x4E0A;&#x8BBF;&#x95EE;&#x5230;&#x5440;~</p>
<p></p><div id="notebook"><div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Group-by">Group by</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&#xA0;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&#xA0;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#&#x9009;&#x53D6;df&#x4E2D;SUMLEV&#x503C;&#x4E3A;50&#x7684;&#x90E8;&#x5206;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;census.csv&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;SUMLEV&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">50</span><span class="p">]</span>
<span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[38]:</div>



<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SUMLEV</th>
      <th>REGION</th>
      <th>DIVISION</th>
      <th>STATE</th>
      <th>COUNTY</th>
      <th>STNAME</th>
      <th>CTYNAME</th>
      <th>CENSUS2010POP</th>
      <th>ESTIMATESBASE2010</th>
      <th>POPESTIMATE2010</th>
      <th>...</th>
      <th>RDOMESTICMIG2011</th>
      <th>RDOMESTICMIG2012</th>
      <th>RDOMESTICMIG2013</th>
      <th>RDOMESTICMIG2014</th>
      <th>RDOMESTICMIG2015</th>
      <th>RNETMIG2011</th>
      <th>RNETMIG2012</th>
      <th>RNETMIG2013</th>
      <th>RNETMIG2014</th>
      <th>RNETMIG2015</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>50</td>
      <td>3</td>
      <td>6</td>
      <td>1</td>
      <td>1</td>
      <td>Alabama</td>
      <td>Autauga County</td>
      <td>54571</td>
      <td>54571</td>
      <td>54660</td>
      <td>...</td>
      <td>7.242091</td>
      <td>-2.915927</td>
      <td>-3.012349</td>
      <td>2.265971</td>
      <td>-2.530799</td>
      <td>7.606016</td>
      <td>-2.626146</td>
      <td>-2.722002</td>
      <td>2.592270</td>
      <td>-2.187333</td>
    </tr>
    <tr>
      <th>2</th>
      <td>50</td>
      <td>3</td>
      <td>6</td>
      <td>1</td>
      <td>3</td>
      <td>Alabama</td>
      <td>Baldwin County</td>
      <td>182265</td>
      <td>182265</td>
      <td>183193</td>
      <td>...</td>
      <td>14.832960</td>
      <td>17.647293</td>
      <td>21.845705</td>
      <td>19.243287</td>
      <td>17.197872</td>
      <td>15.844176</td>
      <td>18.559627</td>
      <td>22.727626</td>
      <td>20.317142</td>
      <td>18.293499</td>
    </tr>
    <tr>
      <th>3</th>
      <td>50</td>
      <td>3</td>
      <td>6</td>
      <td>1</td>
      <td>5</td>
      <td>Alabama</td>
      <td>Barbour County</td>
      <td>27457</td>
      <td>27457</td>
      <td>27341</td>
      <td>...</td>
      <td>-4.728132</td>
      <td>-2.500690</td>
      <td>-7.056824</td>
      <td>-3.904217</td>
      <td>-10.543299</td>
      <td>-4.874741</td>
      <td>-2.758113</td>
      <td>-7.167664</td>
      <td>-3.978583</td>
      <td>-10.543299</td>
    </tr>
    <tr>
      <th>4</th>
      <td>50</td>
      <td>3</td>
      <td>6</td>
      <td>1</td>
      <td>7</td>
      <td>Alabama</td>
      <td>Bibb County</td>
      <td>22915</td>
      <td>22919</td>
      <td>22861</td>
      <td>...</td>
      <td>-5.527043</td>
      <td>-5.068871</td>
      <td>-6.201001</td>
      <td>-0.177537</td>
      <td>0.177258</td>
      <td>-5.088389</td>
      <td>-4.363636</td>
      <td>-5.403729</td>
      <td>0.754533</td>
      <td>1.107861</td>
    </tr>
    <tr>
      <th>5</th>
      <td>50</td>
      <td>3</td>
      <td>6</td>
      <td>1</td>
      <td>9</td>
      <td>Alabama</td>
      <td>Blount County</td>
      <td>57322</td>
      <td>57322</td>
      <td>57373</td>
      <td>...</td>
      <td>1.807375</td>
      <td>-1.177622</td>
      <td>-1.748766</td>
      <td>-2.062535</td>
      <td>-1.369970</td>
      <td>1.859511</td>
      <td>-0.848580</td>
      <td>-1.402476</td>
      <td>-1.577232</td>
      <td>-0.884411</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3188</th>
      <td>50</td>
      <td>4</td>
      <td>8</td>
      <td>56</td>
      <td>37</td>
      <td>Wyoming</td>
      <td>Sweetwater County</td>
      <td>43806</td>
      <td>43806</td>
      <td>43593</td>
      <td>...</td>
      <td>1.072643</td>
      <td>16.243199</td>
      <td>-5.339774</td>
      <td>-14.252889</td>
      <td>-14.248864</td>
      <td>1.255221</td>
      <td>16.243199</td>
      <td>-5.295460</td>
      <td>-14.075283</td>
      <td>-14.070195</td>
    </tr>
    <tr>
      <th>3189</th>
      <td>50</td>
      <td>4</td>
      <td>8</td>
      <td>56</td>
      <td>39</td>
      <td>Wyoming</td>
      <td>Teton County</td>
      <td>21294</td>
      <td>21294</td>
      <td>21297</td>
      <td>...</td>
      <td>-1.589565</td>
      <td>0.972695</td>
      <td>19.525929</td>
      <td>14.143021</td>
      <td>-0.564849</td>
      <td>0.654527</td>
      <td>2.408578</td>
      <td>21.160658</td>
      <td>16.308671</td>
      <td>1.520747</td>
    </tr>
    <tr>
      <th>3190</th>
      <td>50</td>
      <td>4</td>
      <td>8</td>
      <td>56</td>
      <td>41</td>
      <td>Wyoming</td>
      <td>Uinta County</td>
      <td>21118</td>
      <td>21118</td>
      <td>21102</td>
      <td>...</td>
      <td>-17.755986</td>
      <td>-4.916350</td>
      <td>-6.902954</td>
      <td>-14.215862</td>
      <td>-12.127022</td>
      <td>-18.136812</td>
      <td>-5.536861</td>
      <td>-7.521840</td>
      <td>-14.740608</td>
      <td>-12.606351</td>
    </tr>
    <tr>
      <th>3191</th>
      <td>50</td>
      <td>4</td>
      <td>8</td>
      <td>56</td>
      <td>43</td>
      <td>Wyoming</td>
      <td>Washakie County</td>
      <td>8533</td>
      <td>8533</td>
      <td>8545</td>
      <td>...</td>
      <td>-11.637475</td>
      <td>-0.827815</td>
      <td>-2.013502</td>
      <td>-17.781491</td>
      <td>1.682288</td>
      <td>-11.990126</td>
      <td>-1.182592</td>
      <td>-2.250385</td>
      <td>-18.020168</td>
      <td>1.441961</td>
    </tr>
    <tr>
      <th>3192</th>
      <td>50</td>
      <td>4</td>
      <td>8</td>
      <td>56</td>
      <td>45</td>
      <td>Wyoming</td>
      <td>Weston County</td>
      <td>7208</td>
      <td>7208</td>
      <td>7181</td>
      <td>...</td>
      <td>-11.752361</td>
      <td>-8.040059</td>
      <td>12.372583</td>
      <td>1.533635</td>
      <td>6.935294</td>
      <td>-12.032179</td>
      <td>-8.040059</td>
      <td>12.372583</td>
      <td>1.533635</td>
      <td>6.935294</td>
    </tr>
  </tbody>
</table>
<p>3142 rows &#xD7; 100 columns</p>
</div></div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&#xA0;[39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">%%timeit -n 10</span>
<span class="sd">for state in df[&quot;STNAME&quot;].unique():</span>
<span class="sd">    avg = np.average(df.where(df[&quot;STNAME&quot;] == state).dropna()[&quot;CENSUS2010POP&quot;])</span>
<span class="sd">    print(&quot;Counties in state&quot; + state + &quot;have an average population of&quot; + str(avg))</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[39]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&apos;\n%%timeit -n 10\nfor state in df[&quot;STNAME&quot;].unique():\n    avg = np.average(df.where(df[&quot;STNAME&quot;] == state).dropna()[&quot;CENSUS2010POP&quot;])\n    print(&quot;Counties in state&quot; + state + &quot;have an average population of&quot; + str(avg))\n&apos;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&#xA0;[40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">%%timeit -n 10</span>
<span class="sd">for group, frame in df.groupby(&quot;STNAME&quot;):</span>
<span class="sd">    avg = np.average(frame[&quot;CENSUS2010POP&quot;])</span>
<span class="sd">    print(&quot;Counties in state&quot; + group + &quot;have an average population of&quot; + str(avg))</span>
<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[40]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&apos;\n%%timeit -n 10\nfor group, frame in df.groupby(&quot;STNAME&quot;):\n    avg = np.average(frame[&quot;CENSUS2010POP&quot;])\n    print(&quot;Counties in state&quot; + group + &quot;have an average population of&quot; + str(avg))\n    &apos;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&#xA0;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[41]:</div>



<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SUMLEV</th>
      <th>REGION</th>
      <th>DIVISION</th>
      <th>STATE</th>
      <th>COUNTY</th>
      <th>STNAME</th>
      <th>CTYNAME</th>
      <th>CENSUS2010POP</th>
      <th>ESTIMATESBASE2010</th>
      <th>POPESTIMATE2010</th>
      <th>...</th>
      <th>RDOMESTICMIG2011</th>
      <th>RDOMESTICMIG2012</th>
      <th>RDOMESTICMIG2013</th>
      <th>RDOMESTICMIG2014</th>
      <th>RDOMESTICMIG2015</th>
      <th>RNETMIG2011</th>
      <th>RNETMIG2012</th>
      <th>RNETMIG2013</th>
      <th>RNETMIG2014</th>
      <th>RNETMIG2015</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>50</td>
      <td>3</td>
      <td>6</td>
      <td>1</td>
      <td>1</td>
      <td>Alabama</td>
      <td>Autauga County</td>
      <td>54571</td>
      <td>54571</td>
      <td>54660</td>
      <td>...</td>
      <td>7.242091</td>
      <td>-2.915927</td>
      <td>-3.012349</td>
      <td>2.265971</td>
      <td>-2.530799</td>
      <td>7.606016</td>
      <td>-2.626146</td>
      <td>-2.722002</td>
      <td>2.592270</td>
      <td>-2.187333</td>
    </tr>
    <tr>
      <th>2</th>
      <td>50</td>
      <td>3</td>
      <td>6</td>
      <td>1</td>
      <td>3</td>
      <td>Alabama</td>
      <td>Baldwin County</td>
      <td>182265</td>
      <td>182265</td>
      <td>183193</td>
      <td>...</td>
      <td>14.832960</td>
      <td>17.647293</td>
      <td>21.845705</td>
      <td>19.243287</td>
      <td>17.197872</td>
      <td>15.844176</td>
      <td>18.559627</td>
      <td>22.727626</td>
      <td>20.317142</td>
      <td>18.293499</td>
    </tr>
    <tr>
      <th>3</th>
      <td>50</td>
      <td>3</td>
      <td>6</td>
      <td>1</td>
      <td>5</td>
      <td>Alabama</td>
      <td>Barbour County</td>
      <td>27457</td>
      <td>27457</td>
      <td>27341</td>
      <td>...</td>
      <td>-4.728132</td>
      <td>-2.500690</td>
      <td>-7.056824</td>
      <td>-3.904217</td>
      <td>-10.543299</td>
      <td>-4.874741</td>
      <td>-2.758113</td>
      <td>-7.167664</td>
      <td>-3.978583</td>
      <td>-10.543299</td>
    </tr>
    <tr>
      <th>4</th>
      <td>50</td>
      <td>3</td>
      <td>6</td>
      <td>1</td>
      <td>7</td>
      <td>Alabama</td>
      <td>Bibb County</td>
      <td>22915</td>
      <td>22919</td>
      <td>22861</td>
      <td>...</td>
      <td>-5.527043</td>
      <td>-5.068871</td>
      <td>-6.201001</td>
      <td>-0.177537</td>
      <td>0.177258</td>
      <td>-5.088389</td>
      <td>-4.363636</td>
      <td>-5.403729</td>
      <td>0.754533</td>
      <td>1.107861</td>
    </tr>
    <tr>
      <th>5</th>
      <td>50</td>
      <td>3</td>
      <td>6</td>
      <td>1</td>
      <td>9</td>
      <td>Alabama</td>
      <td>Blount County</td>
      <td>57322</td>
      <td>57322</td>
      <td>57373</td>
      <td>...</td>
      <td>1.807375</td>
      <td>-1.177622</td>
      <td>-1.748766</td>
      <td>-2.062535</td>
      <td>-1.369970</td>
      <td>1.859511</td>
      <td>-0.848580</td>
      <td>-1.402476</td>
      <td>-1.577232</td>
      <td>-0.884411</td>
    </tr>
  </tbody>
</table>
<p>5 rows &#xD7; 100 columns</p>
</div></div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&#xA0;[42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#&#x5C06; STNAME &#x8BBE;&#x4E3A; index</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;STNAME&quot;</span><span class="p">)</span>
<span class="c1">#&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x51FD;&#x6570;,&#x9996;&#x5B57;&#x6BCD; &lt;M &#x8FD4;&#x56DE; 0&#xFF0C;&#x9996;&#x5B57;&#x6BCD; &gt;Q &#x8FD4;&#x56DE; 1&#xFF0C;&#x5176;&#x4ED6;&#x8FD4;&#x56DE;2</span>
<span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="s2">&quot;M&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s2">&quot;Q&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="mi">2</span>
<span class="c1">#groupby(by)&#x53C2;&#x6570;by&#x7528;&#x4E8E;&#x51B3;&#x5B9A;&#x5206;&#x7EC4;&#xFF0C;&#x5982;&#x679C;by&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x5BF9;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x7684; index&#x8FDB;&#x884C;&#x5206;&#x7EC4;</span>
<span class="c1">#&#x5C06; index &#x5373; STNAME &#x6309;&#x7167;&#x9996;&#x5B57;&#x6BCD;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#xFF0C;&#x5206;&#x4E3A;&#x4E09;&#x7C7B;</span>
<span class="k">for</span> <span class="n">group</span><span class="p">,</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">fun</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;There are &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">frame</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot; records in group &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">group</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; for processing.&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>There are 1177 records in group 0 for processing.
There are 831 records in group 1 for processing.
There are 1134 records in group 2 for processing.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&#xA0;[43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;census.csv&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;SUMLEV&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">50</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&#xA0;[44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#groupby(by)&#x5982;&#x679C;by&#x662F;&#x4E00;&#x4E2A;lable&#xFF08;&#x884C;&#x540D;/&#x5217;&#x540D;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x4E45;&#x5C31;&#x4F1A;&#x5BF9;columns in self&#x8FDB;&#x884C;&#x5206;&#x7EC4;</span>
<span class="c1">#agg(func),func&#x7528;&#x4E8E;&#x805A;&#x5408;&#x6570;&#x636E;&#xFF0C;func&#x53EF;&#x4EE5;&#x4E3A;&#x51FD;&#x6570;&#x3001;str&#x3001;list&#x3001;dict</span>
<span class="c1">#agg()&#x4F20;&#x5165;dict&#xFF0C;&#x5305;&#x542B;&#x611F;&#x5174;&#x8DA3;&#x7684;column name&#xFF0C;&#x5373;CENSUS2010POP,&#x4EE5;&#x53CA;&#x60F3;&#x8981;apply&#x7684;function,&#x5373;np.average</span>
<span class="c1">#&#x6309;&#x7167;&#x201C;STNAME&#x201D;&#x8FDB;&#x884C;&#x5206;&#x7EC4;&#xFF0C;&#x5BF9;&#x7EC4;&#x5185;&#x805A;&#x5408;&#x6C42;CENSUS2010POP&#x5E73;&#x5747;&#x503C;</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;STNAME&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;CENSUS2010POP&quot;</span> <span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[44]:</div>



<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>CENSUS2010POP</th>
    </tr>
    <tr>
      <th>STNAME</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Alabama</th>
      <td>71339.343284</td>
    </tr>
    <tr>
      <th>Alaska</th>
      <td>24490.724138</td>
    </tr>
    <tr>
      <th>Arizona</th>
      <td>426134.466667</td>
    </tr>
    <tr>
      <th>Arkansas</th>
      <td>38878.906667</td>
    </tr>
    <tr>
      <th>California</th>
      <td>642309.586207</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>78581.187500</td>
    </tr>
    <tr>
      <th>Connecticut</th>
      <td>446762.125000</td>
    </tr>
    <tr>
      <th>Delaware</th>
      <td>299311.333333</td>
    </tr>
    <tr>
      <th>District of Columbia</th>
      <td>601723.000000</td>
    </tr>
    <tr>
      <th>Florida</th>
      <td>280616.567164</td>
    </tr>
    <tr>
      <th>Georgia</th>
      <td>60928.635220</td>
    </tr>
    <tr>
      <th>Hawaii</th>
      <td>272060.200000</td>
    </tr>
    <tr>
      <th>Idaho</th>
      <td>35626.863636</td>
    </tr>
    <tr>
      <th>Illinois</th>
      <td>125790.509804</td>
    </tr>
    <tr>
      <th>Indiana</th>
      <td>70476.108696</td>
    </tr>
    <tr>
      <th>Iowa</th>
      <td>30771.262626</td>
    </tr>
    <tr>
      <th>Kansas</th>
      <td>27172.552381</td>
    </tr>
    <tr>
      <th>Kentucky</th>
      <td>36161.391667</td>
    </tr>
    <tr>
      <th>Louisiana</th>
      <td>70833.937500</td>
    </tr>
    <tr>
      <th>Maine</th>
      <td>83022.562500</td>
    </tr>
    <tr>
      <th>Maryland</th>
      <td>240564.666667</td>
    </tr>
    <tr>
      <th>Massachusetts</th>
      <td>467687.785714</td>
    </tr>
    <tr>
      <th>Michigan</th>
      <td>119080.000000</td>
    </tr>
    <tr>
      <th>Minnesota</th>
      <td>60964.655172</td>
    </tr>
    <tr>
      <th>Mississippi</th>
      <td>36186.548780</td>
    </tr>
    <tr>
      <th>Missouri</th>
      <td>52077.626087</td>
    </tr>
    <tr>
      <th>Montana</th>
      <td>17668.125000</td>
    </tr>
    <tr>
      <th>Nebraska</th>
      <td>19638.075269</td>
    </tr>
    <tr>
      <th>Nevada</th>
      <td>158855.941176</td>
    </tr>
    <tr>
      <th>New Hampshire</th>
      <td>131647.000000</td>
    </tr>
    <tr>
      <th>New Jersey</th>
      <td>418661.619048</td>
    </tr>
    <tr>
      <th>New Mexico</th>
      <td>62399.363636</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>312550.032258</td>
    </tr>
    <tr>
      <th>North Carolina</th>
      <td>95354.830000</td>
    </tr>
    <tr>
      <th>North Dakota</th>
      <td>12690.396226</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>131096.636364</td>
    </tr>
    <tr>
      <th>Oklahoma</th>
      <td>48718.844156</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>106418.722222</td>
    </tr>
    <tr>
      <th>Pennsylvania</th>
      <td>189587.746269</td>
    </tr>
    <tr>
      <th>Rhode Island</th>
      <td>210513.400000</td>
    </tr>
    <tr>
      <th>South Carolina</th>
      <td>100551.391304</td>
    </tr>
    <tr>
      <th>South Dakota</th>
      <td>12336.060606</td>
    </tr>
    <tr>
      <th>Tennessee</th>
      <td>66801.105263</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>98998.271654</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>95306.379310</td>
    </tr>
    <tr>
      <th>Vermont</th>
      <td>44695.785714</td>
    </tr>
    <tr>
      <th>Virginia</th>
      <td>60111.293233</td>
    </tr>
    <tr>
      <th>Washington</th>
      <td>172424.102564</td>
    </tr>
    <tr>
      <th>West Virginia</th>
      <td>33690.800000</td>
    </tr>
    <tr>
      <th>Wisconsin</th>
      <td>78985.916667</td>
    </tr>
    <tr>
      <th>Wyoming</th>
      <td>24505.478261</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&#xA0;[45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#dataframe groupby</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="s2">&quot;POPESTIMATE2010&quot;</span><span class="p">,</span><span class="s2">&quot;POPESTIMATE2011&quot;</span><span class="p">]))</span>
<span class="c1">#Series groupby</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)[</span><span class="s2">&quot;POPESTIMATE2010&quot;</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;class &apos;pandas.core.groupby.generic.DataFrameGroupBy&apos;&gt;
&lt;class &apos;pandas.core.groupby.generic.SeriesGroupBy&apos;&gt;
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>&lt;ipython-input-45-0aed87c54ccf&gt;:2: FutureWarning: Indexing with multiple keys (implicitly converted to a tuple of keys) will be deprecated, use a list instead.
  print(type(df.groupby(level=0)[&quot;POPESTIMATE2010&quot;,&quot;POPESTIMATE2011&quot;]))
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&#xA0;[57]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#dataframe&#x548C;series&#x7684;aggregate&#x662F;&#x6709;&#x4E00;&#x4E9B;&#x5DEE;&#x5F02;&#x7684;</span>
<span class="c1">#&#x9996;&#x5148;&#xFF0C;&#x5C06;df&#x6570;&#x636E;&#x8F6C;&#x4E3A;Series&#xFF0C;index&#x4E3A;STNAME&#xFF0C;column&#x4E3A;CENSUS2010POP</span>
<span class="c1">#&#x63A5;&#x7740;&#xFF0C;&#x4F7F;&#x7528;level&#x53C2;&#x6570;&#x5C06;&#x5176;&#x6309;&#x7167;index&#x5206;&#x7EC4;</span>
<span class="c1">#&#x7136;&#x540E;&#x8C03;&#x7528;agg&#x65B9;&#x6CD5;&#xFF0C;&#x5176;&#x4E2D;dict&#x4E2D;&#x65E2;&#x6709; np.average &#x51FD;&#x6570;&#x53C8;&#x6709; np.sum &#x51FD;&#x6570;</span>
<span class="c1">#Pandas&#x5BF9;Series&#x5BF9;&#x8C61;&#x5E94;&#x7528;&#x8FD9;&#x4E9B;&#x51FD;&#x6570;&#xFF0C;&#x7531;&#x4E8E;&#x53EA;&#x6709;&#x4E00;&#x4E2A;column&#xFF0C;&#x800C;&#x5BF9;&#x5176;&#x5E94;&#x7528;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x663E;&#x793A;sum&#x3001;avg</span>
<span class="c1">#groupby(level=None),&#x5C42;&#x6B21;&#x53C2;&#x6570;level&#x53EF;&#x4EE5;&#x662F;int/level name/sequence of such/None</span>
<span class="c1">#&#x5F53;&#x5206;&#x7EC4;&#x5BF9;&#x8C61;&#x662F;multiIndex&#x7684;&#x65F6;&#x5019;&#xFF08;index&#x662F;&#x4E00;&#x4E2A;&#x591A;&#x7EF4;&#x7684;&#xFF09;&#xFF0C;level=0&#x5C31;&#x662F;&#x6309;&#x7167;&#x7B2C;&#x4E00;&#x5206;&#x5C42;&#x8FDB;&#x884C;&#x5206;&#x7EC4;</span>
<span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&apos;STNAME&apos;</span><span class="p">)</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)[</span><span class="s1">&apos;CENSUS2010POP&apos;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">([(</span><span class="s1">&apos;avg&apos;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">),</span> <span class="p">(</span><span class="s1">&apos;sum&apos;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">)]))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[57]:</div>



<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>avg</th>
      <th>sum</th>
    </tr>
    <tr>
      <th>STNAME</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Alabama</th>
      <td>71339.343284</td>
      <td>4779736</td>
    </tr>
    <tr>
      <th>Alaska</th>
      <td>24490.724138</td>
      <td>710231</td>
    </tr>
    <tr>
      <th>Arizona</th>
      <td>426134.466667</td>
      <td>6392017</td>
    </tr>
    <tr>
      <th>Arkansas</th>
      <td>38878.906667</td>
      <td>2915918</td>
    </tr>
    <tr>
      <th>California</th>
      <td>642309.586207</td>
      <td>37253956</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>78581.187500</td>
      <td>5029196</td>
    </tr>
    <tr>
      <th>Connecticut</th>
      <td>446762.125000</td>
      <td>3574097</td>
    </tr>
    <tr>
      <th>Delaware</th>
      <td>299311.333333</td>
      <td>897934</td>
    </tr>
    <tr>
      <th>District of Columbia</th>
      <td>601723.000000</td>
      <td>601723</td>
    </tr>
    <tr>
      <th>Florida</th>
      <td>280616.567164</td>
      <td>18801310</td>
    </tr>
    <tr>
      <th>Georgia</th>
      <td>60928.635220</td>
      <td>9687653</td>
    </tr>
    <tr>
      <th>Hawaii</th>
      <td>272060.200000</td>
      <td>1360301</td>
    </tr>
    <tr>
      <th>Idaho</th>
      <td>35626.863636</td>
      <td>1567582</td>
    </tr>
    <tr>
      <th>Illinois</th>
      <td>125790.509804</td>
      <td>12830632</td>
    </tr>
    <tr>
      <th>Indiana</th>
      <td>70476.108696</td>
      <td>6483802</td>
    </tr>
    <tr>
      <th>Iowa</th>
      <td>30771.262626</td>
      <td>3046355</td>
    </tr>
    <tr>
      <th>Kansas</th>
      <td>27172.552381</td>
      <td>2853118</td>
    </tr>
    <tr>
      <th>Kentucky</th>
      <td>36161.391667</td>
      <td>4339367</td>
    </tr>
    <tr>
      <th>Louisiana</th>
      <td>70833.937500</td>
      <td>4533372</td>
    </tr>
    <tr>
      <th>Maine</th>
      <td>83022.562500</td>
      <td>1328361</td>
    </tr>
    <tr>
      <th>Maryland</th>
      <td>240564.666667</td>
      <td>5773552</td>
    </tr>
    <tr>
      <th>Massachusetts</th>
      <td>467687.785714</td>
      <td>6547629</td>
    </tr>
    <tr>
      <th>Michigan</th>
      <td>119080.000000</td>
      <td>9883640</td>
    </tr>
    <tr>
      <th>Minnesota</th>
      <td>60964.655172</td>
      <td>5303925</td>
    </tr>
    <tr>
      <th>Mississippi</th>
      <td>36186.548780</td>
      <td>2967297</td>
    </tr>
    <tr>
      <th>Missouri</th>
      <td>52077.626087</td>
      <td>5988927</td>
    </tr>
    <tr>
      <th>Montana</th>
      <td>17668.125000</td>
      <td>989415</td>
    </tr>
    <tr>
      <th>Nebraska</th>
      <td>19638.075269</td>
      <td>1826341</td>
    </tr>
    <tr>
      <th>Nevada</th>
      <td>158855.941176</td>
      <td>2700551</td>
    </tr>
    <tr>
      <th>New Hampshire</th>
      <td>131647.000000</td>
      <td>1316470</td>
    </tr>
    <tr>
      <th>New Jersey</th>
      <td>418661.619048</td>
      <td>8791894</td>
    </tr>
    <tr>
      <th>New Mexico</th>
      <td>62399.363636</td>
      <td>2059179</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>312550.032258</td>
      <td>19378102</td>
    </tr>
    <tr>
      <th>North Carolina</th>
      <td>95354.830000</td>
      <td>9535483</td>
    </tr>
    <tr>
      <th>North Dakota</th>
      <td>12690.396226</td>
      <td>672591</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>131096.636364</td>
      <td>11536504</td>
    </tr>
    <tr>
      <th>Oklahoma</th>
      <td>48718.844156</td>
      <td>3751351</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>106418.722222</td>
      <td>3831074</td>
    </tr>
    <tr>
      <th>Pennsylvania</th>
      <td>189587.746269</td>
      <td>12702379</td>
    </tr>
    <tr>
      <th>Rhode Island</th>
      <td>210513.400000</td>
      <td>1052567</td>
    </tr>
    <tr>
      <th>South Carolina</th>
      <td>100551.391304</td>
      <td>4625364</td>
    </tr>
    <tr>
      <th>South Dakota</th>
      <td>12336.060606</td>
      <td>814180</td>
    </tr>
    <tr>
      <th>Tennessee</th>
      <td>66801.105263</td>
      <td>6346105</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>98998.271654</td>
      <td>25145561</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>95306.379310</td>
      <td>2763885</td>
    </tr>
    <tr>
      <th>Vermont</th>
      <td>44695.785714</td>
      <td>625741</td>
    </tr>
    <tr>
      <th>Virginia</th>
      <td>60111.293233</td>
      <td>7994802</td>
    </tr>
    <tr>
      <th>Washington</th>
      <td>172424.102564</td>
      <td>6724540</td>
    </tr>
    <tr>
      <th>West Virginia</th>
      <td>33690.800000</td>
      <td>1852994</td>
    </tr>
    <tr>
      <th>Wisconsin</th>
      <td>78985.916667</td>
      <td>5686986</td>
    </tr>
    <tr>
      <th>Wyoming</th>
      <td>24505.478261</td>
      <td>563626</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Test">Test</h2><blockquote><p>Looking at our backpacking equipment DataFrame, suppose we are interested in finding our total weight for each category. Use groupby to group the dataframe, and apply a function to calculate the total weight (Weight x Quantity) by category</p>
</blockquote>
<p><code>print(df.groupby(&quot;Category&quot;).apply(lambda df, a, b : sum(df[a] * df[b]),&quot;Weight(oz.)&quot;, &quot;Quantity&quot;))</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&#xA0;[62]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;STNAME&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)[</span><span class="s2">&quot;POPESTIMATE2010&quot;</span><span class="p">,</span> <span class="s2">&quot;POPESTIMATE2011&quot;</span><span class="p">]</span>
<span class="o">.</span><span class="n">agg</span><span class="p">([(</span><span class="s2">&quot;avg&quot;</span> <span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;sum&quot;</span> <span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">)]))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>&lt;ipython-input-62-a0ebb5d92584&gt;:1: FutureWarning: Indexing with multiple keys (implicitly converted to a tuple of keys) will be deprecated, use a list instead.
  (df.set_index(&quot;STNAME&quot;).groupby(level = 0)[&quot;POPESTIMATE2010&quot;, &quot;POPESTIMATE2011&quot;]
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[62]:</div>



<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="2" halign="left">POPESTIMATE2010</th>
      <th colspan="2" halign="left">POPESTIMATE2011</th>
    </tr>
    <tr>
      <th></th>
      <th>avg</th>
      <th>sum</th>
      <th>avg</th>
      <th>sum</th>
    </tr>
    <tr>
      <th>STNAME</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Alabama</th>
      <td>71420.313433</td>
      <td>4785161</td>
      <td>71658.328358</td>
      <td>4801108</td>
    </tr>
    <tr>
      <th>Alaska</th>
      <td>24621.413793</td>
      <td>714021</td>
      <td>24921.379310</td>
      <td>722720</td>
    </tr>
    <tr>
      <th>Arizona</th>
      <td>427213.866667</td>
      <td>6408208</td>
      <td>431248.800000</td>
      <td>6468732</td>
    </tr>
    <tr>
      <th>Arkansas</th>
      <td>38965.253333</td>
      <td>2922394</td>
      <td>39180.506667</td>
      <td>2938538</td>
    </tr>
    <tr>
      <th>California</th>
      <td>643691.017241</td>
      <td>37334079</td>
      <td>650000.586207</td>
      <td>37700034</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>78878.968750</td>
      <td>5048254</td>
      <td>79991.875000</td>
      <td>5119480</td>
    </tr>
    <tr>
      <th>Connecticut</th>
      <td>447464.625000</td>
      <td>3579717</td>
      <td>448719.875000</td>
      <td>3589759</td>
    </tr>
    <tr>
      <th>Delaware</th>
      <td>299930.333333</td>
      <td>899791</td>
      <td>302638.666667</td>
      <td>907916</td>
    </tr>
    <tr>
      <th>District of Columbia</th>
      <td>605126.000000</td>
      <td>605126</td>
      <td>620472.000000</td>
      <td>620472</td>
    </tr>
    <tr>
      <th>Florida</th>
      <td>281341.641791</td>
      <td>18849890</td>
      <td>285157.208955</td>
      <td>19105533</td>
    </tr>
    <tr>
      <th>Georgia</th>
      <td>61090.905660</td>
      <td>9713454</td>
      <td>61712.452830</td>
      <td>9812280</td>
    </tr>
    <tr>
      <th>Hawaii</th>
      <td>272796.000000</td>
      <td>1363980</td>
      <td>275645.400000</td>
      <td>1378227</td>
    </tr>
    <tr>
      <th>Idaho</th>
      <td>35704.227273</td>
      <td>1570986</td>
      <td>36003.045455</td>
      <td>1584134</td>
    </tr>
    <tr>
      <th>Illinois</th>
      <td>125894.598039</td>
      <td>12841249</td>
      <td>126096.882353</td>
      <td>12861882</td>
    </tr>
    <tr>
      <th>Indiana</th>
      <td>70549.891304</td>
      <td>6490590</td>
      <td>70835.271739</td>
      <td>6516845</td>
    </tr>
    <tr>
      <th>Iowa</th>
      <td>30815.090909</td>
      <td>3050694</td>
      <td>30963.525253</td>
      <td>3065389</td>
    </tr>
    <tr>
      <th>Kansas</th>
      <td>27226.895238</td>
      <td>2858824</td>
      <td>27332.542857</td>
      <td>2869917</td>
    </tr>
    <tr>
      <th>Kentucky</th>
      <td>36232.808333</td>
      <td>4347937</td>
      <td>36399.016667</td>
      <td>4367882</td>
    </tr>
    <tr>
      <th>Louisiana</th>
      <td>71014.859375</td>
      <td>4544951</td>
      <td>71490.328125</td>
      <td>4575381</td>
    </tr>
    <tr>
      <th>Maine</th>
      <td>82980.937500</td>
      <td>1327695</td>
      <td>83016.062500</td>
      <td>1328257</td>
    </tr>
    <tr>
      <th>Maryland</th>
      <td>241183.708333</td>
      <td>5788409</td>
      <td>243507.125000</td>
      <td>5844171</td>
    </tr>
    <tr>
      <th>Massachusetts</th>
      <td>468931.142857</td>
      <td>6565036</td>
      <td>472271.214286</td>
      <td>6611797</td>
    </tr>
    <tr>
      <th>Michigan</th>
      <td>119004.445783</td>
      <td>9877369</td>
      <td>118995.048193</td>
      <td>9876589</td>
    </tr>
    <tr>
      <th>Minnesota</th>
      <td>61044.862069</td>
      <td>5310903</td>
      <td>61472.632184</td>
      <td>5348119</td>
    </tr>
    <tr>
      <th>Mississippi</th>
      <td>36223.365854</td>
      <td>2970316</td>
      <td>36317.060976</td>
      <td>2977999</td>
    </tr>
    <tr>
      <th>Missouri</th>
      <td>52139.582609</td>
      <td>5996052</td>
      <td>52265.973913</td>
      <td>6010587</td>
    </tr>
    <tr>
      <th>Montana</th>
      <td>17690.053571</td>
      <td>990643</td>
      <td>17816.892857</td>
      <td>997746</td>
    </tr>
    <tr>
      <th>Nebraska</th>
      <td>19677.688172</td>
      <td>1830025</td>
      <td>19810.569892</td>
      <td>1842383</td>
    </tr>
    <tr>
      <th>Nevada</th>
      <td>159025.882353</td>
      <td>2703440</td>
      <td>159930.529412</td>
      <td>2718819</td>
    </tr>
    <tr>
      <th>New Hampshire</th>
      <td>131670.800000</td>
      <td>1316708</td>
      <td>131834.400000</td>
      <td>1318344</td>
    </tr>
    <tr>
      <th>New Jersey</th>
      <td>419232.428571</td>
      <td>8803881</td>
      <td>421092.095238</td>
      <td>8842934</td>
    </tr>
    <tr>
      <th>New Mexico</th>
      <td>62567.909091</td>
      <td>2064741</td>
      <td>62976.545455</td>
      <td>2078226</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>312950.322581</td>
      <td>19402920</td>
      <td>314890.354839</td>
      <td>19523202</td>
    </tr>
    <tr>
      <th>North Carolina</th>
      <td>95589.790000</td>
      <td>9558979</td>
      <td>96510.250000</td>
      <td>9651025</td>
    </tr>
    <tr>
      <th>North Dakota</th>
      <td>12726.981132</td>
      <td>674530</td>
      <td>12930.679245</td>
      <td>685326</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>131145.068182</td>
      <td>11540766</td>
      <td>131198.204545</td>
      <td>11545442</td>
    </tr>
    <tr>
      <th>Oklahoma</th>
      <td>48825.922078</td>
      <td>3759596</td>
      <td>49176.961039</td>
      <td>3786626</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>106610.333333</td>
      <td>3837972</td>
      <td>107458.583333</td>
      <td>3868509</td>
    </tr>
    <tr>
      <th>Pennsylvania</th>
      <td>189731.552239</td>
      <td>12712014</td>
      <td>190226.895522</td>
      <td>12745202</td>
    </tr>
    <tr>
      <th>Rhode Island</th>
      <td>210643.800000</td>
      <td>1053219</td>
      <td>210371.200000</td>
      <td>1051856</td>
    </tr>
    <tr>
      <th>South Carolina</th>
      <td>100780.304348</td>
      <td>4635894</td>
      <td>101581.152174</td>
      <td>4672733</td>
    </tr>
    <tr>
      <th>South Dakota</th>
      <td>12368.166667</td>
      <td>816299</td>
      <td>12489.227273</td>
      <td>824289</td>
    </tr>
    <tr>
      <th>Tennessee</th>
      <td>66911.421053</td>
      <td>6356585</td>
      <td>67351.663158</td>
      <td>6398408</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>99387.255906</td>
      <td>25244363</td>
      <td>101001.826772</td>
      <td>25654464</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>95704.344828</td>
      <td>2775426</td>
      <td>97118.620690</td>
      <td>2816440</td>
    </tr>
    <tr>
      <th>Vermont</th>
      <td>44713.142857</td>
      <td>625984</td>
      <td>44763.357143</td>
      <td>626687</td>
    </tr>
    <tr>
      <th>Virginia</th>
      <td>60344.263158</td>
      <td>8025787</td>
      <td>60983.330827</td>
      <td>8110783</td>
    </tr>
    <tr>
      <th>Washington</th>
      <td>172898.974359</td>
      <td>6743060</td>
      <td>174954.589744</td>
      <td>6823229</td>
    </tr>
    <tr>
      <th>West Virginia</th>
      <td>33713.181818</td>
      <td>1854225</td>
      <td>33726.327273</td>
      <td>1854948</td>
    </tr>
    <tr>
      <th>Wisconsin</th>
      <td>79030.611111</td>
      <td>5690204</td>
      <td>79301.666667</td>
      <td>5709720</td>
    </tr>
    <tr>
      <th>Wyoming</th>
      <td>24544.173913</td>
      <td>564516</td>
      <td>24685.565217</td>
      <td>567768</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&#xA0;[68]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#&#x5982;&#x679C;&#x5C06;&#x51FD;&#x6570;label&#x6539;&#x4E3A;column&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x53EA;&#x662F;&#x5BF9;2010&#x6C42;&#x5E73;&#x5747;&#xFF0C;&#x5BF9;2011&#x6C42;&#x548C;&#xFF0C;&#x4E0E;&#x4E0A;&#x9762;&#x7684;&#x5206;&#x522B;&#x6C42;&#x548C;&#x3001;&#x6C42;&#x5E73;&#x5747;&#x662F;&#x4E0D;&#x4E00;&#x6837;&#x7684;</span>
<span class="c1">#&#x8FD9;&#x65F6;&#xFF0C;pandas&#x81EA;&#x52A8;&#x8BC6;&#x522B;column&#x4E0E;function label&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x4E0D;&#x4F1A;&#x65B0;&#x5EFA;column&#x800C;&#x662F;&#x76F4;&#x63A5;&#x5BF9;&#x5176;&#x5E94;&#x7528;&#x51FD;&#x6570;</span>
<span class="c1">#&#x5728;&#x4F7F;&#x7528;agg&#x65F6;&#x5019;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x8FD9;&#x4E00;&#x70B9;</span>
<span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;STNAME&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)[</span><span class="s2">&quot;POPESTIMATE2010&quot;</span><span class="p">,</span> <span class="s2">&quot;POPESTIMATE2011&quot;</span><span class="p">]</span>
<span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="s2">&quot;POPESTIMATE2010&quot;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">average</span><span class="p">,</span> <span class="s2">&quot;POPESTIMATE2011&quot;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">}))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>&lt;ipython-input-68-752bd9c859f7&gt;:3: FutureWarning: Indexing with multiple keys (implicitly converted to a tuple of keys) will be deprecated, use a list instead.
  (df.set_index(&quot;STNAME&quot;).groupby(level = 0)[&quot;POPESTIMATE2010&quot;, &quot;POPESTIMATE2011&quot;]
</pre>
</div>
</div>

<div class="output_area">

    <div class="prompt output_prompt">Out[68]:</div>



<div class="output_html rendered_html output_subarea output_execute_result"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>POPESTIMATE2010</th>
      <th>POPESTIMATE2011</th>
    </tr>
    <tr>
      <th>STNAME</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Alabama</th>
      <td>71420.313433</td>
      <td>4801108</td>
    </tr>
    <tr>
      <th>Alaska</th>
      <td>24621.413793</td>
      <td>722720</td>
    </tr>
    <tr>
      <th>Arizona</th>
      <td>427213.866667</td>
      <td>6468732</td>
    </tr>
    <tr>
      <th>Arkansas</th>
      <td>38965.253333</td>
      <td>2938538</td>
    </tr>
    <tr>
      <th>California</th>
      <td>643691.017241</td>
      <td>37700034</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>78878.968750</td>
      <td>5119480</td>
    </tr>
    <tr>
      <th>Connecticut</th>
      <td>447464.625000</td>
      <td>3589759</td>
    </tr>
    <tr>
      <th>Delaware</th>
      <td>299930.333333</td>
      <td>907916</td>
    </tr>
    <tr>
      <th>District of Columbia</th>
      <td>605126.000000</td>
      <td>620472</td>
    </tr>
    <tr>
      <th>Florida</th>
      <td>281341.641791</td>
      <td>19105533</td>
    </tr>
    <tr>
      <th>Georgia</th>
      <td>61090.905660</td>
      <td>9812280</td>
    </tr>
    <tr>
      <th>Hawaii</th>
      <td>272796.000000</td>
      <td>1378227</td>
    </tr>
    <tr>
      <th>Idaho</th>
      <td>35704.227273</td>
      <td>1584134</td>
    </tr>
    <tr>
      <th>Illinois</th>
      <td>125894.598039</td>
      <td>12861882</td>
    </tr>
    <tr>
      <th>Indiana</th>
      <td>70549.891304</td>
      <td>6516845</td>
    </tr>
    <tr>
      <th>Iowa</th>
      <td>30815.090909</td>
      <td>3065389</td>
    </tr>
    <tr>
      <th>Kansas</th>
      <td>27226.895238</td>
      <td>2869917</td>
    </tr>
    <tr>
      <th>Kentucky</th>
      <td>36232.808333</td>
      <td>4367882</td>
    </tr>
    <tr>
      <th>Louisiana</th>
      <td>71014.859375</td>
      <td>4575381</td>
    </tr>
    <tr>
      <th>Maine</th>
      <td>82980.937500</td>
      <td>1328257</td>
    </tr>
    <tr>
      <th>Maryland</th>
      <td>241183.708333</td>
      <td>5844171</td>
    </tr>
    <tr>
      <th>Massachusetts</th>
      <td>468931.142857</td>
      <td>6611797</td>
    </tr>
    <tr>
      <th>Michigan</th>
      <td>119004.445783</td>
      <td>9876589</td>
    </tr>
    <tr>
      <th>Minnesota</th>
      <td>61044.862069</td>
      <td>5348119</td>
    </tr>
    <tr>
      <th>Mississippi</th>
      <td>36223.365854</td>
      <td>2977999</td>
    </tr>
    <tr>
      <th>Missouri</th>
      <td>52139.582609</td>
      <td>6010587</td>
    </tr>
    <tr>
      <th>Montana</th>
      <td>17690.053571</td>
      <td>997746</td>
    </tr>
    <tr>
      <th>Nebraska</th>
      <td>19677.688172</td>
      <td>1842383</td>
    </tr>
    <tr>
      <th>Nevada</th>
      <td>159025.882353</td>
      <td>2718819</td>
    </tr>
    <tr>
      <th>New Hampshire</th>
      <td>131670.800000</td>
      <td>1318344</td>
    </tr>
    <tr>
      <th>New Jersey</th>
      <td>419232.428571</td>
      <td>8842934</td>
    </tr>
    <tr>
      <th>New Mexico</th>
      <td>62567.909091</td>
      <td>2078226</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>312950.322581</td>
      <td>19523202</td>
    </tr>
    <tr>
      <th>North Carolina</th>
      <td>95589.790000</td>
      <td>9651025</td>
    </tr>
    <tr>
      <th>North Dakota</th>
      <td>12726.981132</td>
      <td>685326</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>131145.068182</td>
      <td>11545442</td>
    </tr>
    <tr>
      <th>Oklahoma</th>
      <td>48825.922078</td>
      <td>3786626</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>106610.333333</td>
      <td>3868509</td>
    </tr>
    <tr>
      <th>Pennsylvania</th>
      <td>189731.552239</td>
      <td>12745202</td>
    </tr>
    <tr>
      <th>Rhode Island</th>
      <td>210643.800000</td>
      <td>1051856</td>
    </tr>
    <tr>
      <th>South Carolina</th>
      <td>100780.304348</td>
      <td>4672733</td>
    </tr>
    <tr>
      <th>South Dakota</th>
      <td>12368.166667</td>
      <td>824289</td>
    </tr>
    <tr>
      <th>Tennessee</th>
      <td>66911.421053</td>
      <td>6398408</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>99387.255906</td>
      <td>25654464</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>95704.344828</td>
      <td>2816440</td>
    </tr>
    <tr>
      <th>Vermont</th>
      <td>44713.142857</td>
      <td>626687</td>
    </tr>
    <tr>
      <th>Virginia</th>
      <td>60344.263158</td>
      <td>8110783</td>
    </tr>
    <tr>
      <th>Washington</th>
      <td>172898.974359</td>
      <td>6823229</td>
    </tr>
    <tr>
      <th>West Virginia</th>
      <td>33713.181818</td>
      <td>1854948</td>
    </tr>
    <tr>
      <th>Wisconsin</th>
      <td>79030.611111</td>
      <td>5709720</td>
    </tr>
    <tr>
      <th>Wyoming</th>
      <td>24544.173913</td>
      <td>567768</td>
    </tr>
  </tbody>
</table>
</div></div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&#xA0;[&#xA0;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>
</pre></div>

    </div>
</div>
</div>

</div>
 

</div><p></p>
</body></html>
            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Coursera-notebooks/">Coursera-notebooks</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Start-with-Me/">Start with Me</a>
                    
                      <a class="hover-with-bg" href="/tags/Python/">Python</a>
                    
                      <a class="hover-with-bg" href="/tags/Coursera/">Coursera</a>
                    
                      <a class="hover-with-bg" href="/tags/Applied-Data-Science-with-Python/">Applied Data Science with Python</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/py-data-science-04-scales/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">[Data Science] Week 3 #4 - Scales</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/py-data-science-02-pandas-idioms/">
                        <span class="hidden-mobile">[Data Science] Week 3 #2 - Pandas Idioms</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>







  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "[Data Science] Week 3 #3 - Group By&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 80,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>




















</body>
</html>
