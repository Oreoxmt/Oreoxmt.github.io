<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Oreo">
  <meta name="keywords" content="">
  <title>读书笔记：3-STEP BY STEP Hadoop 安装手册 - Oreo</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script  src="/js/utils.js" ></script>
<meta name="generator" content="Hexo 5.3.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Fluid</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2021-01-23 20:12">
      2021年1月23日 晚上
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      2.1k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      42
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <html><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"></head><body><p>&#x300A;Hadoop &#x6743;&#x5A01;&#x6307;&#x5357;&#x300B;&#x8BFB;&#x4E66;&#x7B14;&#x8BB0;&#x7B2C;&#x4E09;&#x7BC7;&#x5E26;&#x4F60;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x5B89;&#x88C5; Hadoop</p>
<a id="more"></a>
<h1 id="step-by-step---apache-hadoop-&#x4F2A;&#x5206;&#x5E03;&#x6A21;&#x5F0F;&#x5B89;&#x88C5;&#x624B;&#x518C;">3 STEP BY STEP - Apache Hadoop &#x4F2A;&#x5206;&#x5E03;&#x6A21;&#x5F0F;&#x5B89;&#x88C5;&#x624B;&#x518C;</h1>
<p>&#x5168;&#x7F51;&#x6700;&#x8BE6;&#x7EC6;&#xFF0C;&#x6700;&#x9002;&#x5408;&#x50CF;&#x6211;&#x4E00;&#x6837;&#x7684;&#x521D;&#x5B66;&#x8005;&#x7684; Hadoop &#x5B89;&#x88C5;&#x624B;&#x518C;&#x6765;&#x5566;&#xFF08;</p>
<h1 id="&#x5B89;&#x88C5;&#x73AF;&#x5883;">&#x5B89;&#x88C5;&#x73AF;&#x5883;</h1>
<p>&#x817E;&#x8BAF;&#x4E91;&#x670D;&#x52A1;&#x5668;&#xFF0C;Ubuntu 18.04 LTS</p>
<h1 id="&#x51C6;&#x5907;&#x5DE5;&#x4F5C;">&#x51C6;&#x5907;&#x5DE5;&#x4F5C;</h1>
<h2 id="docker">Docker</h2>
<h3 id="&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;-docker">&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528; Docker&#xFF1F;</h3>
<p>Docker &#x91C7;&#x7528; Linux &#x7684;&#x5BB9;&#x5668;&#x6280;&#x672F;&#x5B9E;&#x73B0;&#x5185;&#x5916;&#x73AF;&#x5883;&#x9694;&#x79BB;&#x3002;&#x7531;&#x4E8E; Hadoop &#x5B89;&#x88C5;&#x590D;&#x6742;&#xFF0C;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#xFF0C;&#x7834;&#x574F;&#x4E3B;&#x673A;&#x73AF;&#x5883;&#xFF0C;&#x6240;&#x4EE5;&#x91C7;&#x7528; Docker &#x6765;&#x5EFA;&#x7ACB;&#x5BB9;&#x5668;&#xFF0C;&#x5728;&#x5BB9;&#x5668;&#x5185;&#x8FDB;&#x884C; Hadoop &#x7684;&#x5B89;&#x88C5;&#x5B9E;&#x9A8C;&#x3002;&#x800C;&#x4E14;&#xFF0C;DockerHub &#x4E0A;&#x63D0;&#x4F9B;&#x4E86; <a target="_blank" rel="noopener" href="https://hub.docker.com/_/openjdk">&#x5B98;&#x65B9; OpenJDK &#x955C;&#x50CF;</a>&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x4E3B;&#x673A;&#x4E0A;&#x914D;&#x7F6E; Java &#x73AF;&#x5883;&#x4E86;&#x3002;</p>
<h3 id="&#x5982;&#x4F55;&#x5B89;&#x88C5;-docker">&#x5982;&#x4F55;&#x5B89;&#x88C5; Docker&#xFF1F;</h3>
<p>&#x53C2;&#x8003; Docker &#x5B98;&#x7F51;&#x63D0;&#x4F9B;&#x7684;&#x6559;&#x7A0B; <a target="_blank" rel="noopener" href="https://docs.docker.com/engine/install/ubuntu/">https://docs.docker.com/engine/install/ubuntu/</a> &#xFF0C;&#x6309;&#x7167;&#x4E0B;&#x5217;&#x6B65;&#x9AA4;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5B89;&#x88C5; Docker&#xFF1A;</p>
<pre><code class="hljs bash">$ <span class="hljs-comment"># &#x5B89;&#x88C5;&#x524D;&#x7F6E;&#x9879;</span>
$ sudo apt update
$ sudo apt install apt-transport-https ca-certificates curl gnupg-agent software-properties-common
$ <span class="hljs-comment"># &#x6DFB;&#x52A0; Docker Repo </span>
$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
$ sudo apt update
$ <span class="hljs-comment"># &#x5B89;&#x88C5; Docker</span>
$ sudo apt install docker-ce docker-ce-cli containerd.io
$ <span class="hljs-comment"># &#x542F;&#x52A8; Docker &#x670D;&#x52A1;</span>
$ sudo systemctl start docker
$ <span class="hljs-comment"># &#x5C06;&#x5F53;&#x524D;&#x7528;&#x6237;&#x6DFB;&#x52A0;&#x5230; docker &#x7528;&#x6237;&#x7EC4;</span>
$ usermod -aG docker $(whoami)</code></pre>
<p>&#x5B8C;&#x6210;&#x4E0A;&#x8FF0;&#x6B65;&#x9AA4;&#x540E;&#xFF0C;&#x4E3A;&#x4E86;&#x8BA9;&#x7528;&#x6237;&#x7EC4;&#x751F;&#x6548;&#xFF0C;&#x8F93;&#x5165; <code>exit</code> &#x65AD;&#x5F00; SSH &#x8FDE;&#x63A5;&#x5E76;&#x91CD;&#x8FDE;&#x3002;</p>
<h2 id="&#x5BB9;&#x5668;&#x73AF;&#x5883;&#x914D;&#x7F6E;">&#x5BB9;&#x5668;&#x73AF;&#x5883;&#x914D;&#x7F6E;</h2>
<h3 id="&#x4E0B;&#x8F7D;-openjdk-&#x955C;&#x50CF;">&#x4E0B;&#x8F7D; OpenJDK &#x955C;&#x50CF;</h3>
<p>Dockers &#x9ED8;&#x8BA4;&#x4F1A;&#x4ECE; DockerHub &#x5B98;&#x65B9;&#x5730;&#x5740; <a target="_blank" rel="noopener" href="http://dockerhub.io">dockerhub.io</a> &#x62C9;&#x53D6;&#x955C;&#x50CF;&#xFF0C;&#x8BE5;&#x5730;&#x5740;&#x5728;&#x56FD;&#x5185;&#x8BBF;&#x95EE;&#x975E;&#x5E38;&#x6162;&#x3002;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x955C;&#x50CF;&#x62C9;&#x53D6;&#x901F;&#x5EA6;&#xFF0C;&#x5148;&#x5728;&#x4E3B;&#x673A;&#x4E0A;&#x914D;&#x7F6E;&#x817E;&#x8BAF;&#x4E91; DockerHub &#x955C;&#x50CF;&#xFF08;&#x867D;&#x7136;&#x627E;&#x4E0D;&#x5230;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF0C;&#x4F46;&#x5B83;&#x80FD;&#x7528;&#x3002;&#x5176;&#x4ED6;&#x4E91;&#x670D;&#x52A1;&#x5546;&#x7684;&#x7528;&#x6237;&#x70E6;&#x8BF7;&#x81EA;&#x884C;&#x67E5;&#x627E;&#x5408;&#x9002;&#x7684;&#x955C;&#x50CF;&#x5730;&#x5740;&#xFF09;&#x3002;&#x5728; <code>/etc/docker/daemon.json</code> &#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p>
<pre><code class="hljs json">{ <span class="hljs-attr">&quot;registry-mirrors&quot;</span>: [ <span class="hljs-string">&quot;https://mirror.ccs.tencentyun.com&quot;</span> ] }</code></pre>
<p>&#x91CD;&#x542F; Docker &#x670D;&#x52A1;&#xFF1A;</p>
<pre><code class="hljs bash">$ sudo systemctl restart docker</code></pre>
<p>&#x6B64;&#x65F6; DockerHub &#x955C;&#x50CF;&#x5E94;&#x5F53;&#x5DF2;&#x7ECF;&#x751F;&#x6548;&#xFF0C;&#x901A;&#x8FC7; <code>docker info</code> &#x9A8C;&#x8BC1;</p>
<pre><code class="hljs bash">$ docker info
Registry Mirrors:
  https://mirror.ccs.tencentyun.com/</code></pre>
<p>&#x7136;&#x540E;&#x4F7F;&#x7528; <code>docker pull</code> &#x62C9;&#x53D6; Java 8 &#x7684; <a target="_blank" rel="noopener" href="https://hub.docker.com/_/openjdk">OpenJDK &#x955C;&#x50CF;</a>&#xFF1A;</p>
<pre><code class="hljs bash">$ docker pull openjdk:8
Status: Downloaded newer image <span class="hljs-keyword">for</span> openjdk:8
docker.io/library/openjdk:8</code></pre>
<h3 id="&#x8FD0;&#x884C;-openjdk-&#x5BB9;&#x5668;">&#x8FD0;&#x884C; OpenJDK &#x5BB9;&#x5668;</h3>
<p>&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF1A;</p>
<pre><code class="hljs bash">$ mkdir -p ~/hadoop  <span class="hljs-comment"># &#x5EFA;&#x7ACB; hadoop &#x76EE;&#x5F55;&#xFF0C;&#x540E;&#x7EED;&#x4F1A;&#x628A;&#x5B83;&#x4F5C;&#x4E3A;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;</span>
$ docker run \
		-d --init \
		-w /home/$(whoami)/hadoop \
		-v /home/$(whoami)/hadoop:/home/$(whoami)/hadoop \
		--name hadoop-test openjdk:8 \
		tail -f /dev/null</code></pre>
<p>&#x5176;&#x4E2D;&#xFF1A;</p>
<ul>
<li><code>-d --init</code>&#xFF1A;&#x4F7F;&#x5BB9;&#x5668;&#x5728;&#x540E;&#x53F0;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#xFF0C;&#x9000;&#x51FA;&#x7684;&#x8FDB;&#x7A0B;&#x80FD;&#x88AB;&#x6B63;&#x786E;&#x56DE;&#x6536;</li>
<li><code>-w /home/$(whoami)/hadoop</code>&#xFF1A;&#x8BBE;&#x7F6E;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;</li>
<li><code>-v /home/$(whoami)/hadoop:/home/$(whoami)/hadoop</code>&#xFF1A;&#x5728;&#x5BB9;&#x5668;&#x5185;&#x5916;&#x5171;&#x4EAB; <code>~/hadoop</code> &#x76EE;&#x5F55;</li>
<li><code>--name hadoop-test openjdk:8</code>&#xFF1A;&#x5BB9;&#x5668;&#x540D;&#x79F0; <code>hadoop-test</code>&#xFF0C;&#x955C;&#x50CF;&#x540D;&#x79F0; <code>openjdk:8</code></li>
<li><code>tail -f /dev/null</code>&#xFF1A;&#x4EE4;&#x4FDD;&#x6301;&#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x4E0D;&#x9000;&#x51FA;&#x7684;&#x547D;&#x4EE4;</li>
</ul>
<h3 id="&#x5BB9;&#x5668;&#x73AF;&#x5883;&#x914D;&#x7F6E;-1">&#x5BB9;&#x5668;&#x73AF;&#x5883;&#x914D;&#x7F6E;</h3>
<p>&#x9700;&#x8981;&#x8FDB;&#x884C;&#x4EE5;&#x4E0B;&#x64CD;&#x4F5C;&#xFF1A;</p>
<ol type="1">
<li><p>&#x914D;&#x7F6E;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x4F7F;&#x5176;&#x4E0E;&#x5916;&#x90E8;&#x7528;&#x6237;&#x4E00;&#x81F4;</p>
<p>&#x539F;&#x56E0;&#x4E3A; Hadoop &#x4E0D;&#x5141;&#x8BB8;&#x4EE5; <code>root</code> &#x7528;&#x6237;&#x8FD0;&#x884C;&#x3002;</p></li>
<li><p>&#x914D;&#x7F6E;&#x5BB9;&#x5668;&#x5185;&#x7684; Debian &#x6E90;&#x955C;&#x50CF;</p>
<p>&#x539F;&#x56E0;&#x4E3A; OpenJDK &#x4F7F;&#x7528;&#x7684;&#x662F;&#x5B98;&#x65B9; Debian &#x6E90;&#xFF0C;&#x56FD;&#x5185;&#x8BBF;&#x95EE;&#x901F;&#x5EA6;&#x7F13;&#x6162;&#x3002;</p></li>
<li><p>&#x914D;&#x7F6E; SSH &#x670D;&#x52A1;&#x4EE5;&#x53CA;&#x65E0;&#x5BC6;&#x7801;&#x8BA4;&#x8BC1;</p>
<p>&#x539F;&#x56E0;&#x4E3A;&#x4F2A;&#x5206;&#x5E03;&#x5F0F;&#x670D;&#x52A1;&#x9700;&#x8981; SSH &#x53EF;&#x4EE5;&#x8FDE;&#x901A;&#x672C;&#x673A;&#x3002;&#x5BF9;&#x4E8E; Docker &#x5BB9;&#x5668;&#x6765;&#x8BF4;&#x7B49;&#x4EF7;&#x4E8E;&#x5BB9;&#x5668;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; SSH &#x8FDE;&#x901A;&#x672C;&#x5BB9;&#x5668;&#x3002;</p></li>
</ol>
<p>&#x9996;&#x5148;&#x914D;&#x7F6E;&#x7528;&#x6237;&#xFF1A;</p>
<pre><code class="hljs bash">$ <span class="hljs-comment"># &#x4F7F;&#x7528; whoami &#x83B7;&#x53D6;&#x7528;&#x6237;&#x540D;&#xFF0C;&#x4F7F;&#x7528; id -u &#x83B7;&#x53D6;&#x7528;&#x6237; UID</span>
$ docker <span class="hljs-built_in">exec</span> hadoop-test \
		useradd $(whoami) -u $(id -u) -s /bin/bash
$ <span class="hljs-comment"># &#x4FEE;&#x6539; home &#x76EE;&#x5F55;&#x7684;&#x6743;&#x9650;&#x4E3A;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x7528;&#x6237;</span>
$ docker <span class="hljs-built_in">exec</span> hadoop-test \
		chown $(whoami):$(whoami) /home/$(whoami)</code></pre>
<p>&#x968F;&#x540E;&#x5728;&#x5BB9;&#x5668;&#x5185;&#x914D;&#x7F6E;&#x817E;&#x8BAF;&#x4E91; Debian &#x955C;&#x50CF;&#xFF08;&#x5176;&#x4ED6;&#x4E91;&#x670D;&#x52A1;&#x5546;&#x7528;&#x6237;&#x8BF7;&#x81EA;&#x884C;&#x67E5;&#x627E;&#x5BF9;&#x5E94;&#x7684;&#x6E90;&#xFF09;&#xFF1A;</p>
<pre><code class="hljs bash">$ docker <span class="hljs-built_in">exec</span> hadoop-test \
		sed -i -r <span class="hljs-string">&apos;s/[a-z]+.debian.org/mirrors.tencentyun.com/&apos;</span> /etc/apt/sources.list</code></pre>
<p>&#x7136;&#x540E;&#x5B89;&#x88C5;&#x5E76;&#x542F;&#x52A8; SSH &#x670D;&#x52A1;&#xFF1A;</p>
<pre><code class="hljs bash">$ docker <span class="hljs-built_in">exec</span> hadoop-test \
		bash -c <span class="hljs-string">&apos;apt update &amp;&amp; apt install -y openssh-server &amp;&amp; service ssh start&apos;</span>
[ ok ] Starting OpenBSD Secure Shell server: sshd.</code></pre>
<p>&#x4E00;&#x76F4;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x7EC8;&#x4E8E;&#x5B8C;&#x6210;&#x4E86;&#x5BB9;&#x5668;&#x7684;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#xFF0C;&#x53EF;&#x4EE5;&#x4EE5;&#x666E;&#x901A;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x8FDB;&#x5165; <code>hadoop-test</code> &#x5BB9;&#x5668;&#x4E86;&#xFF1A;</p>
<pre><code class="hljs bash">$ docker <span class="hljs-built_in">exec</span> -it --user $(whoami) hadoop-test bash</code></pre>
<p>&#x8FDB;&#x5165;&#x540E;&#xFF0C;&#x5E94;&#x8BE5;&#x4F1A;&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C; <code>username@abcd1234ef56:~/hadoop$</code> &#x7684;&#x547D;&#x4EE4;&#x884C;&#xFF0C;&#x5176;&#x4E2D; <code>username</code> &#x662F;&#x5BB9;&#x5668;&#x5916;&#x7684;&#x7528;&#x6237;&#x540D;&#xFF0C;<code>abcd1234ef56</code> &#x662F;&#x4E00;&#x4E32;&#x968F;&#x673A;&#x7684;&#x5BB9;&#x5668; ID&#x3002;</p>
<p>&#x5982;&#x679C;&#x8FD8;&#x662F;&#x89C9;&#x5F97;&#x96BE;&#x4EE5;&#x533A;&#x5206;&#x4E0D;&#x540C;&#x7684; Shell&#xFF0C;&#x8FD9;&#x91CC;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x5C0F;&#x6280;&#x5DE7;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x524D;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x6807;&#x8BC6;&#x5B57;&#x7B26;&#x4E32;&#xFF1A;</p>
<pre><code class="hljs bash">$ <span class="hljs-comment"># &#x6267;&#x884C;&#x524D;&#x5148;&#x4F7F;&#x7528; exit &#x9000;&#x51FA;&#x5BB9;&#x5668;&#xFF0C;&#x56DE;&#x5230;&#x670D;&#x52A1;&#x5668;&#x547D;&#x4EE4;&#x884C;</span>
$ <span class="hljs-comment"># &#x5728;&#x5BB9;&#x5668;&#x5185;&#x7684; /etc/debian_chroot &#x4E2D;&#x5199;&#x5165;&#x5B57;&#x7B26;&#x4E32; my_hadoop</span>
$ <span class="hljs-built_in">echo</span> my_hadoop | docker <span class="hljs-built_in">exec</span> -i hadoop-test tee /etc/debian_chroot</code></pre>
<p>&#x6267;&#x884C;&#x5B8C;&#x540E;&#xFF0C;&#x518D;&#x6B21;&#x4F7F;&#x7528; <code>docker exec -it --user $(whoami) hadoop-test bash</code> &#x8FDB;&#x5165;&#x5BB9;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C; <code>(my_hadoop)username@abcd1234ef56:~/hadoop$</code> &#x7684;&#x547D;&#x4EE4;&#x884C;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x5F88;&#x65B9;&#x4FBF;&#x533A;&#x5206;&#x4E86;&#x3002;</p>
<p>&#x5F53;&#x7136;&#x8FD9;&#x4E2A;&#x6280;&#x5DE7;&#x53EA;&#x5BF9; Debian &#x7CFB;&#x7EDF;&#x6709;&#x6548;&#x3002;</p>
<p>&#x6162;&#x7740;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x8981;&#x914D;&#x7F6E; SSH &#x8BBF;&#x95EE;&#xFF0C;&#x901A;&#x8FC7;&#x4E0B;&#x5217;&#x547D;&#x4EE4;&#xFF08;&#x4E0B;&#x9762;&#x4F1A;&#x4F7F;&#x7528; <code>(my_hadoop)</code> &#x524D;&#x7F00;&#x6765;&#x533A;&#x5206;&#x662F;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8FD8;&#x662F;&#x5BB9;&#x5668;&#x5185;&#x6267;&#x884C;&#x547D;&#x4EE4; &#xFF09;&#xFF1A;</p>
<pre><code class="hljs bash">(my_hadoop) $ ssh-keygen
(my_hadoop) $ <span class="hljs-comment"># &#x4E00;&#x8DEF;&#x56DE;&#x8F66;&#xFF0C;&#x4F1A;&#x4EA7;&#x751F;&#x79C1;&#x94A5; ~/.ssh/id_rsa &#x548C;&#x516C;&#x94A5; ~/.ssh/id_rsa.pub</span>
(my_hadoop) $ <span class="hljs-comment"># &#x7136;&#x540E;&#x9700;&#x8981;&#x5BF9;&#x65B0;&#x521B;&#x5EFA;&#x7684;&#x516C;&#x94A5;&#x8FDB;&#x884C;&#x6388;&#x6743;</span>
(my_hadoop) $ cat ~/.ssh/id_rsa.pub &gt; ~/.ssh/authorized_keys
(my_hadoop) $ <span class="hljs-comment"># &#x5B8C;&#x6210;&#x6388;&#x6743;&#xFF0C;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;</span>
(my_hadoop) $ ssh localhost</code></pre>
<p>&#x82E5;&#x6210;&#x529F;&#xFF0C;&#x5E94;&#x8BE5;&#x4F1A;&#x8FDB;&#x5165;&#x4E00;&#x4E2A;&#x65B0;&#x7684; Shell&#xFF0C;&#x547D;&#x4EE4;&#x884C;&#x540C;&#x6837;&#x4E3A; <code>(my_hadoop)username@abcd1234ef56:~/hadoop$</code></p>
<p>&#x81F3;&#x6B64;&#xFF0C;&#x901A;&#x8FC7; OpenJDK &#x5BB9;&#x5668;&#x6765;&#x8FD0;&#x884C; Hadoop &#x7684;&#x524D;&#x7F6E;&#x9879;&#x914D;&#x7F6E;&#x5B8C;&#x6BD5;&#x3002;</p>
<h1 id="&#x5B89;&#x88C5;-hadoop">&#x5B89;&#x88C5; Hadoop</h1>
<h2 id="&#x4E0B;&#x8F7D;-hadoop-release-&#x538B;&#x7F29;&#x5305;">&#x4E0B;&#x8F7D; Hadoop Release &#x538B;&#x7F29;&#x5305;</h2>
<p>&#x53EF;&#x4EE5;&#x4ECE; <a target="_blank" rel="noopener" href="https://hadoop.apache.org/releases.html">Apache &#x5B98;&#x7F51;&#x7684; Release &#x9875;&#x9762;</a>&#x4E0B;&#x8F7D;&#xFF0C;&#x5F53;&#x7136;&#x540C;&#x6837;&#xFF0C;&#x901F;&#x5EA6;&#x4F1A;&#x975E;&#x5E38;&#x7F13;&#x6162;&#x3002;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/">TUNA &#x955C;&#x50CF;</a>&#x3001;<a target="_blank" rel="noopener" href="http://mirror.bit.edu.cn/apache/hadoop/common/">BIT &#x955C;&#x50CF;</a>&#x548C;<a target="_blank" rel="noopener" href="https://mirrors.aliyun.com/apache/hadoop/common/">&#x963F;&#x91CC;&#x4E91;&#x955C;&#x50CF;</a>&#x7B49;&#x3002;</p>
<p>&#x622A;&#x81F3;&#x672C;&#x6587;&#x53D1;&#x51FA;&#xFF0C;&#x6700;&#x65B0;&#x7248;&#x672C;&#x662F; v3.3.0&#xFF0C;&#x4F7F;&#x7528; <code>wget</code> &#x547D;&#x4EE4;&#x4E0B;&#x8F7D;&#xFF0C;&#x4F7F;&#x7528; <code>tar</code> &#x547D;&#x4EE4;&#x89E3;&#x538B;&#xFF1A;</p>
<pre><code class="hljs bash">(my_hadoop) $ wget https://mirrors.tuna.tsinghua.edu.cn/apache/hadoop/common/hadoop-3.3.0/hadoop-3.3.0.tar.gz
(my_hadoop) $ tar xzf hadoop-3.3.0.tar.gz</code></pre>
<p>&#x4F1A;&#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x540D;&#x4E3A; <code>hadoop-3.3.0</code> &#x7684;&#x76EE;&#x5F55;&#xFF1A;</p>
<pre><code class="hljs bash">(my_hadoop) $ <span class="hljs-built_in">cd</span> hadoop-3.3.0
(my_hadoop) $ ls
LICENSE-binary  NOTICE-binary  README.txt  etc      lib      licenses-binary  share
LICENSE.txt     NOTICE.txt     bin         include  libexec  sbin</code></pre>
<h2 id="&#x914D;&#x7F6E;-hadoop-&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x4E0E;&#x53C2;&#x6570;">&#x914D;&#x7F6E; Hadoop &#x8FD0;&#x884C;&#x73AF;&#x5883;&#x4E0E;&#x53C2;&#x6570;</h2>
<h3 id="shell-&#x73AF;&#x5883;&#x53D8;&#x91CF;">Shell &#x73AF;&#x5883;&#x53D8;&#x91CF;</h3>
<p>Hadoop &#x7684;&#x6B63;&#x5E38;&#x8FD0;&#x884C;&#x9700;&#x8981;&#x73AF;&#x5883;&#x53D8;&#x91CF; <code>${HADOOP_HOME}</code> &#x548C; <code>${JAVA_HOME}</code>&#xFF0C;&#x540C;&#x65F6;&#x4E3A;&#x4E86;&#x80FD;&#x65B9;&#x4FBF;&#x5730;&#x6267;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x628A; <code>hadoop-3.3.0</code> &#x76EE;&#x5F55;&#x4E0B;&#x7684; <code>bin</code> &#x548C; <code>sbin</code> &#x76EE;&#x5F55;&#x52A0;&#x5165;&#x73AF;&#x5883;&#x53D8;&#x91CF; <code>${PATH}</code>&#x3002;</p>
<pre><code class="hljs bash">(my_hadoop) $ <span class="hljs-comment"># &#x5047;&#x8BBE;&#x73B0;&#x5728;&#x5904;&#x4E8E; hadoop-3.3.0 &#x76EE;&#x5F55;&#x4E0B;</span>
(my_hadoop) $ <span class="hljs-built_in">export</span> HADOOP_HOME=<span class="hljs-string">&quot;<span class="hljs-subst">$(pwd)</span>&quot;</span>
(my_hadoop) $ <span class="hljs-built_in">export</span> PATH=<span class="hljs-string">&quot;<span class="hljs-variable">${HADOOP_HOME}</span>/bin:<span class="hljs-variable">${HADOOP_HOME}</span>/sbin:<span class="hljs-variable">${PATH}</span>&quot;</span></code></pre>
<p>&#x6267;&#x884C; <code>hadoop version</code> &#x9A8C;&#x8BC1; <code>${PATH}</code> &#x5DF2;&#x7ECF;&#x751F;&#x6548;&#xFF1A;</p>
<pre><code class="hljs bash">(my_hadoop) $ hadoop version
Hadoop 3.3.0
Source code repository https://gitbox.apache.org/repos/asf/hadoop.git -r aa96f1871bfd858f9bac59cf2a81ec470da649af
Compiled by brahma on 2020-07-06T18:44Z
Compiled with protoc 3.7.1
From <span class="hljs-built_in">source</span> with checksum 5dc29b802d6ccd77b262ef9d04d19c4</code></pre>
<p>&#x4E3A;&#x4E86;&#x5728;&#x4E0B;&#x6B21;&#x8FDB;&#x5165;&#x5BB9;&#x5668;&#x65F6;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x4E0A;&#x8FF0; Hadoop &#x73AF;&#x5883;&#xFF0C;&#x53EF;&#x4EE5;&#x628A;&#x4E0A;&#x8FB9;&#x8FD9;&#x4E24;&#x884C;&#x6DFB;&#x52A0;&#x5230; <code>~/.bashrc</code>&#xFF1A;</p>
<pre><code class="hljs bash">(my_hadoop) $ <span class="hljs-comment"># &#x5047;&#x8BBE;&#x73B0;&#x5728;&#x5904;&#x4E8E; hadoop-3.3.0 &#x76EE;&#x5F55;&#x4E0B;</span>
(my_hadoop) $ <span class="hljs-built_in">echo</span> <span class="hljs-string">&apos;export HADOOP_HOME=&apos;</span><span class="hljs-string">&quot;&apos;<span class="hljs-subst">$(pwd)</span>&apos;&quot;</span> &gt;&gt; ~/.bashrc
(my_hadoop) $ <span class="hljs-built_in">echo</span> <span class="hljs-string">&apos;export PATH=&quot;${HADOOP_HOME}/bin:${HADOOP_HOME}/sbin:${PATH}&quot;&apos;</span> &gt;&gt; ~/.bashrc</code></pre>
<p>&#x9000;&#x51FA;&#x5BB9;&#x5668;&#x5E76;&#x518D;&#x6B21;&#x8FDB;&#x5165;&#xFF0C;&#x76F4;&#x63A5;&#x6267;&#x884C; <code>hadoop version</code> &#x9A8C;&#x8BC1; <code>~/.bashrc</code> &#x7684;&#x6539;&#x52A8;&#x5DF2;&#x7ECF;&#x751F;&#x6548;&#xFF1A;</p>
<pre><code class="hljs bash">(my_hadoop) $ <span class="hljs-built_in">exit</span>
            $ <span class="hljs-comment"># &#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x5DF2;&#x7ECF;&#x9000;&#x51FA;&#x5230;&#x4E3B;&#x673A;&#x73AF;&#x5883;</span>
            $ docker <span class="hljs-built_in">exec</span> -it --user $(whoami) hadoop-test bash
(my_hadoop) $ hadoop version
Hadoop 3.3.0
Source code repository https://gitbox.apache.org/repos/asf/hadoop.git -r aa96f1871bfd858f9bac59cf2a81ec470da649af
Compiled by brahma on 2020-07-06T18:44Z
Compiled with protoc 3.7.1
From <span class="hljs-built_in">source</span> with checksum 5dc29b802d6ccd77b262ef9d04d19c4</code></pre>
<h3 id="hadoop-&#x8FD0;&#x884C;&#x53C2;&#x6570;">Hadoop &#x8FD0;&#x884C;&#x53C2;&#x6570;</h3>
<p>&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x81EA;&#x8EAB;&#x9700;&#x6C42;&#x5728; <code>${HADOOP_HOME}/etc/hadoop/hadoop-env.sh</code> &#x4E2D;&#x914D;&#x7F6E;&#x4F9B; Hadoop &#x4F7F;&#x7528;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002;&#x5728;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x6682;&#x65F6;&#x6240;&#x6709; <code>HADOOP_</code> &#x5F00;&#x5934;&#x7684;&#x90FD;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</p>
<p>&#x7531;&#x4E8E; <a target="_blank" rel="noopener" href="https://github.com/moby/moby/issues/2569#issuecomment-27973910">Docker &#x548C; SSH &#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;</a>&#xFF0C;&#x4F7F;&#x7528; <code>ssh localhost</code> &#x547D;&#x4EE4;&#x8FDE;&#x63A5;&#x5230;&#x81EA;&#x8EAB;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x4E22;&#x5931; <code>${JAVA_HOME}</code> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x8FD9;&#x91CC;&#x628A; <code>${JAVA_HOME}</code> &#x5199;&#x5230; <code>hadoop-env.sh</code> &#x4E2D;&#xFF1A;</p>
<pre><code class="hljs bash">(my_hadoop) $ <span class="hljs-built_in">echo</span> <span class="hljs-string">&apos;export JAVA_HOME=&apos;</span><span class="hljs-string">&quot;&apos;<span class="hljs-variable">${JAVA_HOME}</span>&apos;&quot;</span> &gt;&gt; <span class="hljs-variable">${HADOOP_HOME}</span>/etc/hadoop/hadoop-env.sh</code></pre>
<h3 id="hadoop-&#x914D;&#x7F6E;&#x6587;&#x4EF6;">Hadoop &#x914D;&#x7F6E;&#x6587;&#x4EF6;</h3>
<p>&#x4F7F;&#x7528; <code>WinSCP</code> &#x5C06;&#x914D;&#x7F6E;&#x6587;&#x4EF6;(<code>core-site.xml&#x3001;hdfs-site.xml&#x3001;mapred-site.xml&#x3001;yarn-site.xml</code>)&#x4E0A;&#x4F20;&#x81F3; <code>etc/hadoop</code> &#x76EE;&#x5F55;&#x4E0B;</p>
<h1 id="&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;">&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;</h1>
<ul>
<li>&#x683C;&#x5F0F;&#x5316;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</li>
</ul>
<pre><code class="hljs bash">hdfs namenode -format</code></pre>
<ul>
<li>&#x542F;&#x52A8;&#x548C;&#x7EC8;&#x6B62;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;</li>
</ul>
<pre><code class="hljs bash">start-dfs.sh
start-yarn.sh
mapred --daemon start historyserver</code></pre>
<ul>
<li>&#x521B;&#x5EFA;&#x7528;&#x6237;&#x76EE;&#x5F55;</li>
</ul>
<pre><code class="hljs bash">hadoop fs -mkdir -p user/<span class="hljs-variable">$USER</span></code></pre>
<ul>
<li>&#x5C06;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;HDFS</li>
</ul>
<pre><code class="hljs bash">hadoop fs -copyFromLocal hadoop-book/input/docs/quangle.txt \ hdfs://localhost/user/username/quangle.txt</code></pre>
<ul>
<li>&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x56DE;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5E76;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x4E00;&#x81F4;</li>
</ul>
<pre><code class="hljs bash">hadoop fs -copyToLocal quangle.txt quangle.copy.txt
md5sum hadoop-book/input/docs/quangle.txt quangle.copy.txt</code></pre>
</body></html>
            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Reading/">Reading</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Start-with-Me/">Start with Me</a>
                    
                      <a class="hover-with-bg" href="/tags/Book/">Book</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/hadoop-02-about-mapreduce/">
                        <span class="hidden-mobile">读书笔记：2-关于 MapReduce</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>







  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "读书笔记：3-STEP BY STEP Hadoop 安装手册&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>




















</body>
</html>
